{
    // ===========================================================================
    // VS Code Tasks for VST Plugin Development
    // ===========================================================================
    // NOTE: "CMake: build" will copy the plugin to C:\Program Files\Common Files\VST3
    // This requires VS Code to be running as Administrator!
    // Use "CMake: build (no install)" if you don't have admin rights.
    // ===========================================================================
    "version": "2.0.0",
    "tasks": [
        {
            "label": "CMake: configure",
            "type": "process",
            "command": "C:\\Program Files\\CMake\\bin\\cmake.exe",
            "args": [
                "-S", "${workspaceFolder}",
                "-B", "${workspaceFolder}/build",
                "-G", "Visual Studio 17 2022",
                "-A", "x64"
            ],
            "group": "build",
            "problemMatcher": []
        },
        {
            "label": "CMake: build",
            "detail": "Build and copy to VST3 folder (requires Admin)",
            "type": "process",
            "command": "C:\\Program Files\\CMake\\bin\\cmake.exe",
            "args": [
                "--build", "${workspaceFolder}/build",
                "--config", "Debug"
            ],
            "group": {
                "kind": "build",
                "isDefault": true
            },
            "problemMatcher": "$msCompile"
        },
        {
            "label": "CMake: build (no install)",
            "detail": "Build only - does not copy to VST3 folder",
            "type": "process",
            "command": "C:\\Program Files\\CMake\\bin\\cmake.exe",
            "args": [
                "--build", "${workspaceFolder}/build",
                "--config", "Debug",
                "--target", "VSTWork"
            ],
            "group": "build",
            "problemMatcher": "$msCompile"
        },
        {
            "label": "CMake: build Release",
            "type": "process",
            "command": "C:\\Program Files\\CMake\\bin\\cmake.exe",
            "args": [
                "--build", "${workspaceFolder}/build",
                "--config", "Release"
            ],
            "group": "build",
            "problemMatcher": "$msCompile"
        },
        {
            "label": "CMake: clean",
            "type": "process",
            "command": "C:\\Program Files\\CMake\\bin\\cmake.exe",
            "args": [
                "--build", "${workspaceFolder}/build",
                "--target", "clean"
            ],
            "group": "build",
            "problemMatcher": []
        },
        {
            "label": "Run DSP Tests",
            "type": "process",
            "command": "${workspaceFolder}/build/bin/Debug/dsp_tests.exe",
            "group": {
                "kind": "test",
                "isDefault": true
            },
            "problemMatcher": []
        },
        {
            "label": "CMake: configure (no auto-install)",
            "detail": "Configure without auto-copy to VST3 folder",
            "type": "process",
            "command": "C:\\Program Files\\CMake\\bin\\cmake.exe",
            "args": [
                "-S", "${workspaceFolder}",
                "-B", "${workspaceFolder}/build",
                "-G", "Visual Studio 17 2022",
                "-A", "x64",
                "-DVSTWORK_COPY_TO_VST3_FOLDER=OFF"
            ],
            "group": "build",
            "problemMatcher": []
        },
        {
            "label": "Manual: Copy Plugin to VST3 Folder",
            "detail": "Manually copy built plugin (run as Admin)",
            "type": "process",
            "command": "xcopy",
            "args": [
                "/E", "/I", "/Y",
                "${workspaceFolder}\\build\\VST3\\Debug\\VSTWork.vst3",
                "C:\\Program Files\\Common Files\\VST3\\VSTWork.vst3\\"
            ],
            "group": "build",
            "problemMatcher": []
        }
    ]
}
