<?xml version="1.0" encoding="UTF-8"?>
<vstgui-ui-description version="1">
    <!-- Named Colors -->
    <colors>
        <!-- Backgrounds -->
        <color name="bg-main" rgba="#1A1A1Eff"/>
        <color name="bg-dropdown" rgba="#2A2A2Eff"/>
        <color name="bg-display" rgba="#1E1E22ff"/>
        <color name="bg-drawer" rgba="#131316ff"/>

        <!-- Text -->
        <color name="text-light" rgba="#FFFFFFff"/>
        <color name="text-secondary" rgba="#808080ff"/>
        <color name="text-menu" rgba="#C0C0C0ff"/>

        <!-- Frames -->
        <color name="frame-dropdown" rgba="#404048ff"/>
        <color name="frame-dropdown-dim" rgba="#3A3A3Eff"/>

        <!-- Knob/Display overlays -->
        <color name="knob-guide" rgba="#FFFFFF28"/>
        <color name="grid" rgba="#FFFFFF10"/>

        <!-- Section accents -->
        <color name="osc-a" rgba="#64B4FFff"/>
        <color name="osc-b" rgba="#FF8C64ff"/>
        <color name="spectral-morph" rgba="#DCA850ff"/>
        <color name="filter" rgba="#4ECDC4ff"/>
        <color name="distortion" rgba="#E8644Cff"/>
        <color name="envelopes" rgba="#808088ff"/>
        <color name="trance-gate" rgba="#DCA83Cff"/>
        <color name="modulation" rgba="#5AC882ff"/>
        <color name="effects" rgba="#6E7078ff"/>
        <color name="master" rgba="#C8C8CCff"/>
        <color name="global-filter" rgba="#C8649Cff"/>

        <!-- Envelope colors (with alpha variants) -->
        <color name="amp-env" rgba="#508CC8ff"/>
        <color name="amp-env-fill" rgba="#508CC840"/>
        <color name="amp-env-dim" rgba="#508CC880"/>
        <color name="filter-env" rgba="#DCAA3Cff"/>
        <color name="filter-env-fill" rgba="#DCAA3C40"/>
        <color name="filter-env-dim" rgba="#DCAA3C80"/>
        <color name="mod-env" rgba="#A05AC8ff"/>
        <color name="mod-env-fill" rgba="#A05AC840"/>
        <color name="mod-env-dim" rgba="#A05AC880"/>

        <!-- XY Pad gradient corners -->
        <color name="xy-bottom-left" rgba="#3C6C99ff"/>
        <color name="xy-bottom-right" rgba="#99533Cff"/>

        <!-- Toggle states -->
        <color name="toggle-off" rgba="#505055ff"/>
    </colors>


    <!-- ==================================================================== -->
    <!-- Ruinae - Chaos/Spectral Hybrid Synthesizer                          -->
    <!-- Production 4-row layout (spec 051-main-layout)                      -->
    <!-- ==================================================================== -->

    <!-- Control Tags (parameter bindings) -->
    <control-tags>
        <!-- Master/Global -->
        <control-tag name="MasterGain" tag="0"/>
        <control-tag name="VoiceMode" tag="1"/>
        <control-tag name="Polyphony" tag="2"/>
        <control-tag name="SoftLimit" tag="3"/>
        <control-tag name="Width" tag="4"/>
        <control-tag name="Spread" tag="5"/>

        <!-- Global Filter -->
        <control-tag name="GlobalFilterEnabled" tag="1400"/>
        <control-tag name="GlobalFilterType" tag="1401"/>
        <control-tag name="GlobalFilterCutoff" tag="1402"/>
        <control-tag name="GlobalFilterResonance" tag="1403"/>

        <!-- Mono Mode -->
        <control-tag name="MonoPriority" tag="1800"/>
        <control-tag name="MonoLegato" tag="1801"/>
        <control-tag name="MonoPortamentoTime" tag="1802"/>
        <control-tag name="MonoPortaMode" tag="1803"/>

        <!-- Macros -->
        <control-tag name="Macro1Value" tag="2000"/>
        <control-tag name="Macro2Value" tag="2001"/>
        <control-tag name="Macro3Value" tag="2002"/>
        <control-tag name="Macro4Value" tag="2003"/>

        <!-- Rungler -->
        <control-tag name="RunglerOsc1Freq" tag="2100"/>
        <control-tag name="RunglerOsc2Freq" tag="2101"/>
        <control-tag name="RunglerDepth" tag="2102"/>
        <control-tag name="RunglerFilter" tag="2103"/>
        <control-tag name="RunglerBits" tag="2104"/>
        <control-tag name="RunglerLoopMode" tag="2105"/>

        <!-- Settings -->
        <control-tag name="SettingsPitchBendRange" tag="2200"/>
        <control-tag name="SettingsVelocityCurve" tag="2201"/>
        <control-tag name="SettingsTuningReference" tag="2202"/>
        <control-tag name="SettingsVoiceAllocMode" tag="2203"/>
        <control-tag name="SettingsVoiceStealMode" tag="2204"/>
        <control-tag name="SettingsGainCompensation" tag="2205"/>

        <!-- Env Follower -->
        <control-tag name="EnvFollowerSensitivity" tag="2300"/>
        <control-tag name="EnvFollowerAttack" tag="2301"/>
        <control-tag name="EnvFollowerRelease" tag="2302"/>

        <!-- Sample & Hold -->
        <control-tag name="SampleHoldRate" tag="2400"/>
        <control-tag name="SampleHoldSync" tag="2401"/>
        <control-tag name="SampleHoldNoteValue" tag="2402"/>
        <control-tag name="SampleHoldSlew" tag="2403"/>

        <!-- Random -->
        <control-tag name="RandomRate" tag="2500"/>
        <control-tag name="RandomSync" tag="2501"/>
        <control-tag name="RandomNoteValue" tag="2502"/>
        <control-tag name="RandomSmoothness" tag="2503"/>

        <!-- Pitch Follower -->
        <control-tag name="PitchFollowerMinHz" tag="2600"/>
        <control-tag name="PitchFollowerMaxHz" tag="2601"/>
        <control-tag name="PitchFollowerConfidence" tag="2602"/>
        <control-tag name="PitchFollowerSpeed" tag="2603"/>

        <!-- Transient -->
        <control-tag name="TransientSensitivity" tag="2700"/>
        <control-tag name="TransientAttack" tag="2701"/>
        <control-tag name="TransientDecay" tag="2702"/>

        <!-- OSC A -->
        <control-tag name="OscAType" tag="100"/>
        <control-tag name="OscATune" tag="101"/>
        <control-tag name="OscAFine" tag="102"/>
        <control-tag name="OscALevel" tag="103"/>
        <control-tag name="OscAPhase" tag="104"/>

        <!-- OSC B -->
        <control-tag name="OscBType" tag="200"/>
        <control-tag name="OscBTune" tag="201"/>
        <control-tag name="OscBFine" tag="202"/>
        <control-tag name="OscBLevel" tag="203"/>
        <control-tag name="OscBPhase" tag="204"/>

        <!-- Spectral Morph (Mixer) -->
        <control-tag name="MixerMode" tag="300"/>
        <control-tag name="MixPosition" tag="301"/>
        <control-tag name="MixerTilt" tag="302"/>
        <control-tag name="MixerShift" tag="303"/>

        <!-- Filter -->
        <control-tag name="FilterType" tag="400"/>
        <control-tag name="FilterCutoff" tag="401"/>
        <control-tag name="FilterResonance" tag="402"/>
        <control-tag name="FilterEnvAmount" tag="403"/>
        <control-tag name="FilterKeyTrack" tag="404"/>
        <!-- Filter type-specific -->
        <control-tag name="FilterLadderSlope" tag="405"/>
        <control-tag name="FilterLadderDrive" tag="406"/>
        <control-tag name="FilterFormantMorph" tag="407"/>
        <control-tag name="FilterFormantGender" tag="408"/>
        <control-tag name="FilterCombDamping" tag="409"/>
        <control-tag name="FilterSvfSlope" tag="410"/>
        <control-tag name="FilterSvfDrive" tag="411"/>
        <control-tag name="FilterSvfGain" tag="412"/>
        <control-tag name="FilterEnvFltSubType" tag="413"/>
        <control-tag name="FilterEnvFltSensitivity" tag="414"/>
        <control-tag name="FilterEnvFltDepth" tag="415"/>
        <control-tag name="FilterEnvFltAttack" tag="416"/>
        <control-tag name="FilterEnvFltRelease" tag="417"/>
        <control-tag name="FilterEnvFltDirection" tag="418"/>
        <control-tag name="FilterSelfOscGlide" tag="421"/>
        <control-tag name="FilterSelfOscExtMix" tag="422"/>
        <control-tag name="FilterSelfOscShape" tag="423"/>
        <control-tag name="FilterSelfOscRelease" tag="424"/>
        <control-tag name="FilterViewMode" tag="10016"/>

        <!-- Distortion -->
        <control-tag name="DistortionType" tag="500"/>
        <control-tag name="DistortionDrive" tag="501"/>
        <control-tag name="DistortionCharacter" tag="502"/>
        <control-tag name="DistortionMix" tag="503"/>
        <control-tag name="DistortionChaosModel" tag="510"/>
        <control-tag name="DistortionChaosSpeed" tag="511"/>
        <control-tag name="DistortionChaosCoupling" tag="512"/>
        <control-tag name="DistortionSpectralMode" tag="520"/>
        <control-tag name="DistortionSpectralCurve" tag="521"/>
        <control-tag name="DistortionSpectralBits" tag="522"/>
        <control-tag name="DistortionGrainSize" tag="530"/>
        <control-tag name="DistortionGrainDensity" tag="531"/>
        <control-tag name="DistortionGrainVariation" tag="532"/>
        <control-tag name="DistortionGrainJitter" tag="533"/>
        <control-tag name="DistortionFoldType" tag="540"/>
        <control-tag name="DistortionTapeModel" tag="550"/>
        <control-tag name="DistortionTapeSaturation" tag="551"/>
        <control-tag name="DistortionTapeBias" tag="552"/>
        <control-tag name="DistortionViewMode" tag="10017"/>

        <!-- Trance Gate -->
        <control-tag name="TranceGateEnabled" tag="600"/>
        <control-tag name="TranceGateNumSteps" tag="601"/>
        <control-tag name="TranceGateRate" tag="602"/>
        <control-tag name="TranceGateDepth" tag="603"/>
        <control-tag name="TranceGateAttack" tag="604"/>
        <control-tag name="TranceGateRelease" tag="605"/>
        <control-tag name="TranceGateSync" tag="606"/>
        <control-tag name="TranceGateNoteValue" tag="607"/>
        <control-tag name="TranceGateEuclideanEnabled" tag="608"/>
        <control-tag name="TranceGateEuclideanHits" tag="609"/>
        <control-tag name="TranceGateEuclideanRotation" tag="610"/>
        <control-tag name="TranceGatePhaseOffset" tag="611"/>

        <!-- Envelopes: Amp (ENV 1) -->
        <control-tag name="AmpEnvAttack" tag="700"/>
        <control-tag name="AmpEnvDecay" tag="701"/>
        <control-tag name="AmpEnvSustain" tag="702"/>
        <control-tag name="AmpEnvRelease" tag="703"/>

        <!-- Envelopes: Filter (ENV 2) -->
        <control-tag name="FilterEnvFltAttack" tag="800"/>
        <control-tag name="FilterEnvDecay" tag="801"/>
        <control-tag name="FilterEnvSustain" tag="802"/>
        <control-tag name="FilterEnvFltRelease" tag="803"/>

        <!-- Envelopes: Mod (ENV 3) -->
        <control-tag name="ModEnvAttack" tag="900"/>
        <control-tag name="ModEnvDecay" tag="901"/>
        <control-tag name="ModEnvSustain" tag="902"/>
        <control-tag name="ModEnvRelease" tag="903"/>

        <!-- LFO 1 -->
        <control-tag name="LFO1Rate" tag="1000"/>
        <control-tag name="LFO1Shape" tag="1001"/>
        <control-tag name="LFO1Depth" tag="1002"/>
        <control-tag name="LFO1Sync" tag="1003"/>
        <control-tag name="LFO1Phase" tag="1004"/>
        <control-tag name="LFO1Retrigger" tag="1005"/>
        <control-tag name="LFO1NoteValue" tag="1006"/>
        <control-tag name="LFO1Unipolar" tag="1007"/>
        <control-tag name="LFO1FadeIn" tag="1008"/>
        <control-tag name="LFO1Symmetry" tag="1009"/>
        <control-tag name="LFO1Quantize" tag="1010"/>

        <!-- LFO 2 -->
        <control-tag name="LFO2Rate" tag="1100"/>
        <control-tag name="LFO2Shape" tag="1101"/>
        <control-tag name="LFO2Depth" tag="1102"/>
        <control-tag name="LFO2Sync" tag="1103"/>
        <control-tag name="LFO2Phase" tag="1104"/>
        <control-tag name="LFO2Retrigger" tag="1105"/>
        <control-tag name="LFO2NoteValue" tag="1106"/>
        <control-tag name="LFO2Unipolar" tag="1107"/>
        <control-tag name="LFO2FadeIn" tag="1108"/>
        <control-tag name="LFO2Symmetry" tag="1109"/>
        <control-tag name="LFO2Quantize" tag="1110"/>

        <!-- Chaos -->
        <control-tag name="ChaosRate" tag="1200"/>
        <control-tag name="ChaosType" tag="1201"/>
        <control-tag name="ChaosDepth" tag="1202"/>
        <control-tag name="ChaosSync" tag="1203"/>
        <control-tag name="ChaosNoteValue" tag="1204"/>

        <!-- Modulation Source View Mode (UI-only) -->
        <control-tag name="ModSourceViewMode" tag="10019"/>

        <!-- FX Enable -->
        <control-tag name="DelayEnabled" tag="1500"/>
        <control-tag name="ReverbEnabled" tag="1501"/>
        <control-tag name="PhaserEnabled" tag="1502"/>

        <!-- FX: Delay -->
        <control-tag name="DelayType" tag="1600"/>
        <control-tag name="DelayTime" tag="1601"/>
        <control-tag name="DelayFeedback" tag="1602"/>
        <control-tag name="DelayMix" tag="1603"/>
        <control-tag name="DelaySync" tag="1604"/>
        <control-tag name="DelayNoteValue" tag="1605"/>

        <!-- Delay: Digital type-specific -->
        <control-tag name="DelayDigitalEra" tag="1606"/>
        <control-tag name="DelayDigitalAge" tag="1607"/>
        <control-tag name="DelayDigitalLimiter" tag="1608"/>
        <control-tag name="DelayDigitalModDepth" tag="1609"/>
        <control-tag name="DelayDigitalModRate" tag="1610"/>
        <control-tag name="DelayDigitalModWaveform" tag="1611"/>
        <control-tag name="DelayDigitalWidth" tag="1612"/>
        <control-tag name="DelayDigitalWavefoldAmt" tag="1613"/>
        <control-tag name="DelayDigitalWavefoldModel" tag="1614"/>
        <control-tag name="DelayDigitalWavefoldSym" tag="1615"/>

        <!-- Delay: Tape type-specific -->
        <control-tag name="DelayTapeInertia" tag="1626"/>
        <control-tag name="DelayTapeWear" tag="1627"/>
        <control-tag name="DelayTapeSaturation" tag="1628"/>
        <control-tag name="DelayTapeAge" tag="1629"/>
        <control-tag name="DelayTapeSpliceEnabled" tag="1630"/>
        <control-tag name="DelayTapeSpliceIntensity" tag="1631"/>
        <control-tag name="DelayTapeHead1Enabled" tag="1632"/>
        <control-tag name="DelayTapeHead1Level" tag="1633"/>
        <control-tag name="DelayTapeHead1Pan" tag="1634"/>
        <control-tag name="DelayTapeHead2Enabled" tag="1635"/>
        <control-tag name="DelayTapeHead2Level" tag="1636"/>
        <control-tag name="DelayTapeHead2Pan" tag="1637"/>
        <control-tag name="DelayTapeHead3Enabled" tag="1638"/>
        <control-tag name="DelayTapeHead3Level" tag="1639"/>
        <control-tag name="DelayTapeHead3Pan" tag="1640"/>

        <!-- Delay: Granular type-specific -->
        <control-tag name="DelayGranularSize" tag="1646"/>
        <control-tag name="DelayGranularDensity" tag="1647"/>
        <control-tag name="DelayGranularPitch" tag="1648"/>
        <control-tag name="DelayGranularPitchSpray" tag="1649"/>
        <control-tag name="DelayGranularPitchQuant" tag="1650"/>
        <control-tag name="DelayGranularPosSpray" tag="1651"/>
        <control-tag name="DelayGranularReverseProb" tag="1652"/>
        <control-tag name="DelayGranularPanSpray" tag="1653"/>
        <control-tag name="DelayGranularJitter" tag="1654"/>
        <control-tag name="DelayGranularTexture" tag="1655"/>
        <control-tag name="DelayGranularWidth" tag="1656"/>
        <control-tag name="DelayGranularEnvelope" tag="1657"/>
        <control-tag name="DelayGranularFreeze" tag="1658"/>

        <!-- Delay: Spectral type-specific -->
        <control-tag name="DelaySpectralFFTSize" tag="1666"/>
        <control-tag name="DelaySpectralSpread" tag="1667"/>
        <control-tag name="DelaySpectralDirection" tag="1668"/>
        <control-tag name="DelaySpectralCurve" tag="1669"/>
        <control-tag name="DelaySpectralTilt" tag="1670"/>
        <control-tag name="DelaySpectralDiffusion" tag="1671"/>
        <control-tag name="DelaySpectralWidth" tag="1672"/>
        <control-tag name="DelaySpectralFreeze" tag="1673"/>

        <!-- Delay: PingPong type-specific -->
        <control-tag name="DelayPingPongRatio" tag="1686"/>
        <control-tag name="DelayPingPongCrossFeed" tag="1687"/>
        <control-tag name="DelayPingPongWidth" tag="1688"/>
        <control-tag name="DelayPingPongModDepth" tag="1689"/>
        <control-tag name="DelayPingPongModRate" tag="1690"/>

        <!-- FX: Reverb -->
        <control-tag name="ReverbSize" tag="1700"/>
        <control-tag name="ReverbDamping" tag="1701"/>
        <control-tag name="ReverbWidth" tag="1702"/>
        <control-tag name="ReverbMix" tag="1703"/>
        <control-tag name="ReverbPreDelay" tag="1704"/>
        <control-tag name="ReverbDiffusion" tag="1705"/>
        <control-tag name="ReverbFreeze" tag="1706"/>
        <control-tag name="ReverbModRate" tag="1707"/>
        <control-tag name="ReverbModDepth" tag="1708"/>

        <!-- FX: Phaser -->
        <control-tag name="PhaserRate" tag="1900"/>
        <control-tag name="PhaserDepth" tag="1901"/>
        <control-tag name="PhaserFeedback" tag="1902"/>
        <control-tag name="PhaserMix" tag="1903"/>
        <control-tag name="PhaserStages" tag="1904"/>
        <control-tag name="PhaserCenterFreq" tag="1905"/>
        <control-tag name="PhaserStereoSpread" tag="1906"/>
        <control-tag name="PhaserWaveform" tag="1907"/>
        <control-tag name="PhaserSync" tag="1908"/>
        <control-tag name="PhaserNoteValue" tag="1909"/>

        <!-- UI action button tags (not VST parameters) -->
        <control-tag name="ActionTransformInvert" tag="10006"/>
        <control-tag name="ActionTransformShiftRight" tag="10007"/>
        <control-tag name="ActionTransformShiftLeft" tag="10008"/>
        <control-tag name="ActionEuclideanRegen" tag="10009"/>

        <!-- FX: Harmonizer -->
        <control-tag name="HarmonizerEnabled" tag="1503"/>
        <control-tag name="HarmonizerHarmonyMode" tag="2800"/>
        <control-tag name="HarmonizerKey" tag="2801"/>
        <control-tag name="HarmonizerScale" tag="2802"/>
        <control-tag name="HarmonizerPitchShiftMode" tag="2803"/>
        <control-tag name="HarmonizerFormantPreserve" tag="2804"/>
        <control-tag name="HarmonizerNumVoices" tag="2805"/>
        <control-tag name="HarmonizerDryLevel" tag="2806"/>
        <control-tag name="HarmonizerWetLevel" tag="2807"/>
        <control-tag name="HarmonizerVoice1Interval" tag="2810"/>
        <control-tag name="HarmonizerVoice1Level" tag="2811"/>
        <control-tag name="HarmonizerVoice1Pan" tag="2812"/>
        <control-tag name="HarmonizerVoice1Delay" tag="2813"/>
        <control-tag name="HarmonizerVoice1Detune" tag="2814"/>
        <control-tag name="HarmonizerVoice2Interval" tag="2820"/>
        <control-tag name="HarmonizerVoice2Level" tag="2821"/>
        <control-tag name="HarmonizerVoice2Pan" tag="2822"/>
        <control-tag name="HarmonizerVoice2Delay" tag="2823"/>
        <control-tag name="HarmonizerVoice2Detune" tag="2824"/>
        <control-tag name="HarmonizerVoice3Interval" tag="2830"/>
        <control-tag name="HarmonizerVoice3Level" tag="2831"/>
        <control-tag name="HarmonizerVoice3Pan" tag="2832"/>
        <control-tag name="HarmonizerVoice3Delay" tag="2833"/>
        <control-tag name="HarmonizerVoice3Detune" tag="2834"/>
        <control-tag name="HarmonizerVoice4Interval" tag="2840"/>
        <control-tag name="HarmonizerVoice4Level" tag="2841"/>
        <control-tag name="HarmonizerVoice4Pan" tag="2842"/>
        <control-tag name="HarmonizerVoice4Delay" tag="2843"/>
        <control-tag name="HarmonizerVoice4Detune" tag="2844"/>

        <!-- FX Expand/Collapse Chevrons (UI-only actions) -->

        <control-tag name="ActionFxExpandDelay" tag="10011"/>
        <control-tag name="ActionFxExpandReverb" tag="10012"/>
        <control-tag name="ActionFxExpandPhaser" tag="10018"/>
        <control-tag name="ActionFxExpandHarmonizer" tag="10022"/>

        <!-- Envelope Expand/Collapse Chevrons (UI-only actions) -->
        <control-tag name="ActionEnvExpandAmp" tag="10013"/>
        <control-tag name="ActionEnvExpandFilter" tag="10014"/>
        <control-tag name="ActionEnvExpandMod" tag="10015"/>

        <!-- Settings Drawer Toggle + Click-Outside Overlay (UI-only actions) -->
        <control-tag name="ActionSettingsToggle" tag="10020"/>
        <control-tag name="ActionSettingsOverlay" tag="10021"/>
    </control-tags>

    <!-- ================================================================ -->
    <!-- OSC A Type-Specific Templates (T022)                             -->
    <!-- ================================================================ -->

    <!-- PolyBLEP: Pulse Width -->
    <template name="OscA_PolyBLEP" size="212, 32" class="CViewContainer" transparent="true">
        <view class="ArcKnob" origin="10, 2" size="28, 28"
              default-value="0.5" arc-color="osc-a" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="40, 8" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="left" transparent="true" title="PW"/>
    </template>

    <!-- Wavetable: Position, Frame -->
    <template name="OscA_Wavetable" size="212, 32" class="CViewContainer" transparent="true">
        <view class="ArcKnob" origin="10, 2" size="28, 28"
              default-value="0.5" arc-color="osc-a" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="40, 8" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="left" transparent="true" title="Pos"/>
        <view class="ArcKnob" origin="100, 2" size="28, 28"
              default-value="0.5" arc-color="osc-a" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="130, 8" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="left" transparent="true" title="Frame"/>
    </template>

    <!-- PhaseDist: Amount, Symmetry -->
    <template name="OscA_PhaseDist" size="212, 32" class="CViewContainer" transparent="true">
        <view class="ArcKnob" origin="10, 2" size="28, 28"
              default-value="0.5" arc-color="osc-a" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="40, 8" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="left" transparent="true" title="Amt"/>
        <view class="ArcKnob" origin="100, 2" size="28, 28"
              default-value="0.5" arc-color="osc-a" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="130, 8" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="left" transparent="true" title="Sym"/>
    </template>

    <!-- Sync: Ratio, Shape -->
    <template name="OscA_Sync" size="212, 32" class="CViewContainer" transparent="true">
        <view class="ArcKnob" origin="10, 2" size="28, 28"
              default-value="0.5" arc-color="osc-a" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="40, 8" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="left" transparent="true" title="Ratio"/>
        <view class="ArcKnob" origin="100, 2" size="28, 28"
              default-value="0.5" arc-color="osc-a" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="130, 8" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="left" transparent="true" title="Shape"/>
    </template>

    <!-- Additive: Harmonics, Rolloff -->
    <template name="OscA_Additive" size="212, 32" class="CViewContainer" transparent="true">
        <view class="ArcKnob" origin="10, 2" size="28, 28"
              default-value="0.5" arc-color="osc-a" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="40, 8" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="left" transparent="true" title="Harm"/>
        <view class="ArcKnob" origin="100, 2" size="28, 28"
              default-value="0.5" arc-color="osc-a" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="130, 8" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="left" transparent="true" title="Roll"/>
    </template>

    <!-- Chaos: Complexity, Feedback -->
    <template name="OscA_Chaos" size="212, 32" class="CViewContainer" transparent="true">
        <view class="ArcKnob" origin="10, 2" size="28, 28"
              default-value="0.5" arc-color="osc-a" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="40, 8" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="left" transparent="true" title="Cmplx"/>
        <view class="ArcKnob" origin="100, 2" size="28, 28"
              default-value="0.5" arc-color="osc-a" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="130, 8" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="left" transparent="true" title="Fdbk"/>
    </template>

    <!-- Particle: Density, Spread -->
    <template name="OscA_Particle" size="212, 32" class="CViewContainer" transparent="true">
        <view class="ArcKnob" origin="10, 2" size="28, 28"
              default-value="0.5" arc-color="osc-a" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="40, 8" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="left" transparent="true" title="Dens"/>
        <view class="ArcKnob" origin="100, 2" size="28, 28"
              default-value="0.5" arc-color="osc-a" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="130, 8" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="left" transparent="true" title="Sprd"/>
    </template>

    <!-- Formant: Vowel, Resonance -->
    <template name="OscA_Formant" size="212, 32" class="CViewContainer" transparent="true">
        <view class="ArcKnob" origin="10, 2" size="28, 28"
              default-value="0.5" arc-color="osc-a" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="40, 8" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="left" transparent="true" title="Vowel"/>
        <view class="ArcKnob" origin="100, 2" size="28, 28"
              default-value="0.5" arc-color="osc-a" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="130, 8" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="left" transparent="true" title="Reso"/>
    </template>

    <!-- SpectralFreeze: FreezeAmt, Blur -->
    <template name="OscA_SpectralFreeze" size="212, 32" class="CViewContainer" transparent="true">
        <view class="ArcKnob" origin="10, 2" size="28, 28"
              default-value="0.5" arc-color="osc-a" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="40, 8" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="left" transparent="true" title="Frz"/>
        <view class="ArcKnob" origin="100, 2" size="28, 28"
              default-value="0.5" arc-color="osc-a" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="130, 8" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="left" transparent="true" title="Blur"/>
    </template>

    <!-- Noise: Color, Bandwidth -->
    <template name="OscA_Noise" size="212, 32" class="CViewContainer" transparent="true">
        <view class="ArcKnob" origin="10, 2" size="28, 28"
              default-value="0.5" arc-color="osc-a" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="40, 8" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="left" transparent="true" title="Color"/>
        <view class="ArcKnob" origin="100, 2" size="28, 28"
              default-value="0.5" arc-color="osc-a" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="130, 8" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="left" transparent="true" title="BW"/>
    </template>

    <!-- ================================================================ -->
    <!-- OSC B Type-Specific Templates (T023)                             -->
    <!-- ================================================================ -->

    <!-- PolyBLEP: Pulse Width -->
    <template name="OscB_PolyBLEP" size="212, 32" class="CViewContainer" transparent="true">
        <view class="ArcKnob" origin="10, 2" size="28, 28"
              default-value="0.5" arc-color="osc-b" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="40, 8" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="left" transparent="true" title="PW"/>
    </template>

    <!-- Wavetable: Position, Frame -->
    <template name="OscB_Wavetable" size="212, 32" class="CViewContainer" transparent="true">
        <view class="ArcKnob" origin="10, 2" size="28, 28"
              default-value="0.5" arc-color="osc-b" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="40, 8" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="left" transparent="true" title="Pos"/>
        <view class="ArcKnob" origin="100, 2" size="28, 28"
              default-value="0.5" arc-color="osc-b" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="130, 8" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="left" transparent="true" title="Frame"/>
    </template>

    <!-- PhaseDist: Amount, Symmetry -->
    <template name="OscB_PhaseDist" size="212, 32" class="CViewContainer" transparent="true">
        <view class="ArcKnob" origin="10, 2" size="28, 28"
              default-value="0.5" arc-color="osc-b" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="40, 8" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="left" transparent="true" title="Amt"/>
        <view class="ArcKnob" origin="100, 2" size="28, 28"
              default-value="0.5" arc-color="osc-b" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="130, 8" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="left" transparent="true" title="Sym"/>
    </template>

    <!-- Sync: Ratio, Shape -->
    <template name="OscB_Sync" size="212, 32" class="CViewContainer" transparent="true">
        <view class="ArcKnob" origin="10, 2" size="28, 28"
              default-value="0.5" arc-color="osc-b" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="40, 8" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="left" transparent="true" title="Ratio"/>
        <view class="ArcKnob" origin="100, 2" size="28, 28"
              default-value="0.5" arc-color="osc-b" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="130, 8" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="left" transparent="true" title="Shape"/>
    </template>

    <!-- Additive: Harmonics, Rolloff -->
    <template name="OscB_Additive" size="212, 32" class="CViewContainer" transparent="true">
        <view class="ArcKnob" origin="10, 2" size="28, 28"
              default-value="0.5" arc-color="osc-b" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="40, 8" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="left" transparent="true" title="Harm"/>
        <view class="ArcKnob" origin="100, 2" size="28, 28"
              default-value="0.5" arc-color="osc-b" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="130, 8" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="left" transparent="true" title="Roll"/>
    </template>

    <!-- Chaos: Complexity, Feedback -->
    <template name="OscB_Chaos" size="212, 32" class="CViewContainer" transparent="true">
        <view class="ArcKnob" origin="10, 2" size="28, 28"
              default-value="0.5" arc-color="osc-b" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="40, 8" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="left" transparent="true" title="Cmplx"/>
        <view class="ArcKnob" origin="100, 2" size="28, 28"
              default-value="0.5" arc-color="osc-b" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="130, 8" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="left" transparent="true" title="Fdbk"/>
    </template>

    <!-- Particle: Density, Spread -->
    <template name="OscB_Particle" size="212, 32" class="CViewContainer" transparent="true">
        <view class="ArcKnob" origin="10, 2" size="28, 28"
              default-value="0.5" arc-color="osc-b" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="40, 8" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="left" transparent="true" title="Dens"/>
        <view class="ArcKnob" origin="100, 2" size="28, 28"
              default-value="0.5" arc-color="osc-b" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="130, 8" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="left" transparent="true" title="Sprd"/>
    </template>

    <!-- Formant: Vowel, Resonance -->
    <template name="OscB_Formant" size="212, 32" class="CViewContainer" transparent="true">
        <view class="ArcKnob" origin="10, 2" size="28, 28"
              default-value="0.5" arc-color="osc-b" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="40, 8" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="left" transparent="true" title="Vowel"/>
        <view class="ArcKnob" origin="100, 2" size="28, 28"
              default-value="0.5" arc-color="osc-b" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="130, 8" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="left" transparent="true" title="Reso"/>
    </template>

    <!-- SpectralFreeze: FreezeAmt, Blur -->
    <template name="OscB_SpectralFreeze" size="212, 32" class="CViewContainer" transparent="true">
        <view class="ArcKnob" origin="10, 2" size="28, 28"
              default-value="0.5" arc-color="osc-b" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="40, 8" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="left" transparent="true" title="Frz"/>
        <view class="ArcKnob" origin="100, 2" size="28, 28"
              default-value="0.5" arc-color="osc-b" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="130, 8" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="left" transparent="true" title="Blur"/>
    </template>

    <!-- Noise: Color, Bandwidth -->
    <template name="OscB_Noise" size="212, 32" class="CViewContainer" transparent="true">
        <view class="ArcKnob" origin="10, 2" size="28, 28"
              default-value="0.5" arc-color="osc-b" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="40, 8" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="left" transparent="true" title="Color"/>
        <view class="ArcKnob" origin="100, 2" size="28, 28"
              default-value="0.5" arc-color="osc-b" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="130, 8" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="left" transparent="true" title="BW"/>
    </template>

    <!-- ================================================================ -->
    <!-- Filter View Templates (General + Type-Specific)                 -->
    <!-- ================================================================ -->

    <!-- General view: Cutoff, Resonance, Env Amount, Key Track -->
    <template name="Filter_General" size="154, 96" class="CViewContainer" transparent="true">
        <!-- Row 1: Cutoff + Resonance + Env Amount -->
        <view class="ArcKnob" origin="8, 0" size="36, 36"
              control-tag="FilterCutoff" default-value="0.5"
              arc-color="filter" guide-color="knob-guide"/>
        <view class="ModRingIndicator" origin="8, 0" size="36, 36"
              dest-index="0"/>
        <view class="CTextLabel" origin="0, 36" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Cutoff"/>

        <view class="ArcKnob" origin="58, 0" size="36, 36"
              control-tag="FilterResonance" default-value="0.5"
              arc-color="filter" guide-color="knob-guide"/>
        <view class="ModRingIndicator" origin="58, 0" size="36, 36"
              dest-index="1"/>
        <view class="CTextLabel" origin="50, 36" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Resonance"/>

        <view class="ArcKnob" origin="108, 0" size="36, 36"
              control-tag="FilterEnvAmount" default-value="0.5"
              arc-color="filter" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="100, 36" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Env Amt"/>

        <!-- Row 2: Key Track -->
        <view class="ArcKnob" origin="8, 50" size="36, 36"
              control-tag="FilterKeyTrack" default-value="0.5"
              arc-color="filter" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="0, 83" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Key Track"/>
    </template>

    <!-- Type-specific view: nested UIViewSwitchContainer by FilterType -->
    <template name="Filter_TypeSpecific" size="154, 96" class="CViewContainer" transparent="true">
        <view class="UIViewSwitchContainer"
              origin="0, 0" size="154, 96"
              template-names="Filter_SVF_LP,Filter_SVF_HP,Filter_SVF_BP,Filter_SVF_Notch,Filter_Ladder,Filter_Formant,Filter_Comb,Filter_SVF_Allpass,Filter_SVF_Peak,Filter_SVF_LowShelf,Filter_SVF_HighShelf,Filter_EnvFilter,Filter_SelfOsc"
              template-switch-control="FilterType"
              transparent="true"/>
    </template>

    <!-- ================================================================ -->
    <!-- Filter Type-Specific Sub-Templates                              -->
    <!-- ================================================================ -->

    <!-- SVF LP: Slope + Drive -->
    <template name="Filter_SVF_LP" size="154, 96" class="CViewContainer" transparent="true">
        <view class="COptionMenu" origin="8, 4" size="60, 18"
              control-tag="FilterSvfSlope" default-value="0"
              font="~ NormalFontSmaller" font-color="text-menu"
              back-color="bg-dropdown" frame-color="frame-dropdown"/>
        <view class="CTextLabel" origin="8, 24" size="60, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Slope"/>
        <view class="ArcKnob" origin="84, 0" size="36, 36"
              control-tag="FilterSvfDrive" default-value="0.0"
              arc-color="filter" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="76, 36" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Drive"/>
    </template>

    <!-- SVF HP: Slope + Drive -->
    <template name="Filter_SVF_HP" size="154, 96" class="CViewContainer" transparent="true">
        <view class="COptionMenu" origin="8, 4" size="60, 18"
              control-tag="FilterSvfSlope" default-value="0"
              font="~ NormalFontSmaller" font-color="text-menu"
              back-color="bg-dropdown" frame-color="frame-dropdown"/>
        <view class="CTextLabel" origin="8, 24" size="60, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Slope"/>
        <view class="ArcKnob" origin="84, 0" size="36, 36"
              control-tag="FilterSvfDrive" default-value="0.0"
              arc-color="filter" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="76, 36" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Drive"/>
    </template>

    <!-- SVF BP: Slope + Drive -->
    <template name="Filter_SVF_BP" size="154, 96" class="CViewContainer" transparent="true">
        <view class="COptionMenu" origin="8, 4" size="60, 18"
              control-tag="FilterSvfSlope" default-value="0"
              font="~ NormalFontSmaller" font-color="text-menu"
              back-color="bg-dropdown" frame-color="frame-dropdown"/>
        <view class="CTextLabel" origin="8, 24" size="60, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Slope"/>
        <view class="ArcKnob" origin="84, 0" size="36, 36"
              control-tag="FilterSvfDrive" default-value="0.0"
              arc-color="filter" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="76, 36" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Drive"/>
    </template>

    <!-- SVF Notch: Slope + Drive -->
    <template name="Filter_SVF_Notch" size="154, 96" class="CViewContainer" transparent="true">
        <view class="COptionMenu" origin="8, 4" size="60, 18"
              control-tag="FilterSvfSlope" default-value="0"
              font="~ NormalFontSmaller" font-color="text-menu"
              back-color="bg-dropdown" frame-color="frame-dropdown"/>
        <view class="CTextLabel" origin="8, 24" size="60, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Slope"/>
        <view class="ArcKnob" origin="84, 0" size="36, 36"
              control-tag="FilterSvfDrive" default-value="0.0"
              arc-color="filter" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="76, 36" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Drive"/>
    </template>

    <!-- Ladder: Slope selector + Drive knob -->
    <template name="Filter_Ladder" size="154, 96" class="CViewContainer" transparent="true">
        <view class="COptionMenu" origin="8, 4" size="60, 18"
              control-tag="FilterLadderSlope" default-value="1.0"
              font="~ NormalFontSmaller" font-color="text-menu"
              back-color="bg-dropdown" frame-color="frame-dropdown"/>
        <view class="CTextLabel" origin="8, 24" size="60, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Slope"/>
        <view class="ArcKnob" origin="84, 0" size="36, 36"
              control-tag="FilterLadderDrive" default-value="0.0"
              arc-color="filter" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="76, 36" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Drive"/>
    </template>

    <!-- Formant: Vowel Morph + Gender -->
    <template name="Filter_Formant" size="154, 96" class="CViewContainer" transparent="true">
        <view class="ArcKnob" origin="8, 0" size="36, 36"
              control-tag="FilterFormantMorph" default-value="0.0"
              arc-color="filter" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="0, 36" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Vowel"/>
        <view class="ArcKnob" origin="84, 0" size="36, 36"
              control-tag="FilterFormantGender" default-value="0.5"
              arc-color="filter" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="76, 36" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Gender"/>
    </template>

    <!-- Comb: Damping -->
    <template name="Filter_Comb" size="154, 96" class="CViewContainer" transparent="true">
        <view class="ArcKnob" origin="8, 0" size="36, 36"
              control-tag="FilterCombDamping" default-value="0.0"
              arc-color="filter" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="0, 36" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Damp"/>
    </template>

    <!-- SVF Allpass: Slope + Drive (same layout as SVF LP) -->
    <template name="Filter_SVF_Allpass" size="154, 96" class="CViewContainer" transparent="true">
        <view class="COptionMenu" origin="8, 4" size="60, 18"
              control-tag="FilterSvfSlope" default-value="0"
              font="~ NormalFontSmaller" font-color="text-menu"
              back-color="bg-dropdown" frame-color="frame-dropdown"/>
        <view class="CTextLabel" origin="8, 24" size="60, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Slope"/>
        <view class="ArcKnob" origin="84, 0" size="36, 36"
              control-tag="FilterSvfDrive" default-value="0.0"
              arc-color="filter" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="76, 36" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Drive"/>
    </template>

    <!-- SVF Peak: Slope + Drive + Gain -->
    <template name="Filter_SVF_Peak" size="154, 96" class="CViewContainer" transparent="true">
        <view class="COptionMenu" origin="8, 4" size="60, 18"
              control-tag="FilterSvfSlope" default-value="0"
              font="~ NormalFontSmaller" font-color="text-menu"
              back-color="bg-dropdown" frame-color="frame-dropdown"/>
        <view class="CTextLabel" origin="8, 24" size="60, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Slope"/>
        <view class="ArcKnob" origin="84, 0" size="36, 36"
              control-tag="FilterSvfDrive" default-value="0.0"
              arc-color="filter" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="76, 36" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Drive"/>
        <view class="ArcKnob" origin="8, 48" size="36, 36"
              control-tag="FilterSvfGain" default-value="0.5"
              arc-color="filter" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="0, 84" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Gain"/>
    </template>

    <!-- SVF Low Shelf: Slope + Drive + Gain -->
    <template name="Filter_SVF_LowShelf" size="154, 96" class="CViewContainer" transparent="true">
        <view class="COptionMenu" origin="8, 4" size="60, 18"
              control-tag="FilterSvfSlope" default-value="0"
              font="~ NormalFontSmaller" font-color="text-menu"
              back-color="bg-dropdown" frame-color="frame-dropdown"/>
        <view class="CTextLabel" origin="8, 24" size="60, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Slope"/>
        <view class="ArcKnob" origin="84, 0" size="36, 36"
              control-tag="FilterSvfDrive" default-value="0.0"
              arc-color="filter" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="76, 36" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Drive"/>
        <view class="ArcKnob" origin="8, 48" size="36, 36"
              control-tag="FilterSvfGain" default-value="0.5"
              arc-color="filter" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="0, 84" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Gain"/>
    </template>

    <!-- SVF High Shelf: Slope + Drive + Gain -->
    <template name="Filter_SVF_HighShelf" size="154, 96" class="CViewContainer" transparent="true">
        <view class="COptionMenu" origin="8, 4" size="60, 18"
              control-tag="FilterSvfSlope" default-value="0"
              font="~ NormalFontSmaller" font-color="text-menu"
              back-color="bg-dropdown" frame-color="frame-dropdown"/>
        <view class="CTextLabel" origin="8, 24" size="60, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Slope"/>
        <view class="ArcKnob" origin="84, 0" size="36, 36"
              control-tag="FilterSvfDrive" default-value="0.0"
              arc-color="filter" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="76, 36" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Drive"/>
        <view class="ArcKnob" origin="8, 48" size="36, 36"
              control-tag="FilterSvfGain" default-value="0.5"
              arc-color="filter" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="0, 84" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Gain"/>
    </template>

    <!-- Envelope Filter: SubType + Sensitivity + Depth + Direction + Attack + Release -->
    <template name="Filter_EnvFilter" size="154, 96" class="CViewContainer" transparent="true">
        <!-- Row 1: SubType dropdown + Sensitivity knob + Depth knob -->
        <view class="COptionMenu" origin="8, 4" size="56, 18"
              control-tag="FilterEnvFltSubType" default-value="0"
              font="~ NormalFontSmaller" font-color="text-menu"
              back-color="bg-dropdown" frame-color="frame-dropdown"/>
        <view class="CTextLabel" origin="8, 24" size="56, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Type"/>
        <view class="ArcKnob" origin="72, 0" size="36, 36"
              control-tag="FilterEnvFltSensitivity" default-value="0.5"
              arc-color="filter" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="64, 36" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Sens"/>
        <view class="ArcKnob" origin="116, 0" size="36, 36"
              control-tag="FilterEnvFltDepth" default-value="1.0"
              arc-color="filter" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="108, 36" size="44, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Depth"/>
        <!-- Row 2: Direction dropdown + Attack knob + Release knob -->
        <view class="COptionMenu" origin="8, 52" size="56, 18"
              control-tag="FilterEnvFltDirection" default-value="0"
              font="~ NormalFontSmaller" font-color="text-menu"
              back-color="bg-dropdown" frame-color="frame-dropdown"/>
        <view class="CTextLabel" origin="8, 72" size="56, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Dir"/>
        <view class="ArcKnob" origin="72, 48" size="36, 36"
              control-tag="FilterEnvFltAttack" default-value="0.35"
              arc-color="filter" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="64, 84" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Attack"/>
        <view class="ArcKnob" origin="116, 48" size="36, 36"
              control-tag="FilterEnvFltRelease" default-value="0.54"
              arc-color="filter" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="108, 84" size="44, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Release"/>
    </template>

    <!-- Self-Oscillating Filter: Glide + Ext Mix + Shape + Release -->
    <template name="Filter_SelfOsc" size="154, 96" class="CViewContainer" transparent="true">
        <!-- Row 1: Glide + Ext Mix -->
        <view class="ArcKnob" origin="8, 0" size="36, 36"
              control-tag="FilterSelfOscGlide" default-value="0.0"
              arc-color="filter" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="0, 36" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Glide"/>
        <view class="ArcKnob" origin="84, 0" size="36, 36"
              control-tag="FilterSelfOscExtMix" default-value="0.5"
              arc-color="filter" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="76, 36" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Ext Mix"/>
        <!-- Row 2: Shape + Release -->
        <view class="ArcKnob" origin="8, 48" size="36, 36"
              control-tag="FilterSelfOscShape" default-value="0.0"
              arc-color="filter" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="0, 84" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Shape"/>
        <view class="ArcKnob" origin="84, 48" size="36, 36"
              control-tag="FilterSelfOscRelease" default-value="0.47"
              arc-color="filter" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="76, 84" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Release"/>
    </template>

    <!-- ================================================================ -->
    <!-- DISTORTION VIEW TEMPLATES                                        -->
    <!-- ================================================================ -->

    <!-- Distortion General view: nested switch hides controls for Clean -->
    <template name="Distortion_General" size="171, 96" class="CViewContainer" transparent="true">
        <view class="UIViewSwitchContainer"
              origin="0, 0" size="171, 96"
              template-names="Dist_Clean,Dist_General_Active,Dist_General_Active,Dist_General_Active,Dist_General_Active,Dist_General_Active"
              template-switch-control="DistortionType"
              transparent="true"/>
    </template>

    <!-- General controls for active (non-Clean) distortion types: Drive + Mix -->
    <template name="Dist_General_Active" size="171, 96" class="CViewContainer" transparent="true">
        <view class="ArcKnob" origin="8, 4" size="36, 36"
              control-tag="DistortionDrive" default-value="0.5"
              arc-color="distortion" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="0, 40" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Drive"/>

        <view class="ArcKnob" origin="72, 4" size="36, 36"
              control-tag="DistortionMix" default-value="0.5"
              arc-color="distortion" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="64, 40" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Mix"/>
    </template>

    <!-- Distortion Type-Specific view: nested switch on DistortionType -->
    <template name="Distortion_TypeSpecific" size="171, 96" class="CViewContainer" transparent="true">
        <view class="UIViewSwitchContainer"
              origin="0, 0" size="171, 96"
              template-names="Dist_Clean,Dist_Chaos,Dist_Spectral,Dist_Granular,Dist_Wavefolder,Dist_Tape"
              template-switch-control="DistortionType"
              transparent="true"/>
    </template>

    <!-- Clean: no type-specific params -->
    <template name="Dist_Clean" size="171, 96" class="CViewContainer" transparent="true">
        <view class="CTextLabel" origin="0, 36" size="146, 20"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="No parameters"/>
    </template>

    <!-- Chaos Waveshaper: Model dropdown, Speed + Coupling knobs -->
    <template name="Dist_Chaos" size="171, 96" class="CViewContainer" transparent="true">
        <view class="COptionMenu" origin="8, 4" size="110, 18"
              control-tag="DistortionChaosModel" default-value="0"
              font="~ NormalFontSmaller" font-color="text-menu"
              back-color="bg-dropdown" frame-color="frame-dropdown"/>

        <view class="ArcKnob" origin="8, 28" size="36, 36"
              control-tag="DistortionChaosSpeed" default-value="0.5"
              arc-color="distortion" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="0, 64" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Speed"/>

        <view class="ArcKnob" origin="72, 28" size="36, 36"
              control-tag="DistortionChaosCoupling" default-value="0.0"
              arc-color="distortion" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="60, 64" size="60, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Coupling"/>
    </template>

    <!-- Spectral Distortion: Mode + Curve dropdowns, Bits knob -->
    <template name="Dist_Spectral" size="171, 96" class="CViewContainer" transparent="true">
        <view class="COptionMenu" origin="8, 4" size="62, 18"
              control-tag="DistortionSpectralMode" default-value="0"
              font="~ NormalFontSmaller" font-color="text-menu"
              back-color="bg-dropdown" frame-color="frame-dropdown"/>
        <view class="COptionMenu" origin="74, 4" size="62, 18"
              control-tag="DistortionSpectralCurve" default-value="0"
              font="~ NormalFontSmaller" font-color="text-menu"
              back-color="bg-dropdown" frame-color="frame-dropdown"/>

        <view class="ArcKnob" origin="8, 28" size="36, 36"
              control-tag="DistortionSpectralBits" default-value="1.0"
              arc-color="distortion" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="0, 64" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Bits"/>
    </template>

    <!-- Granular Distortion: Size + Density + Variation + Jitter knobs -->
    <template name="Dist_Granular" size="171, 96" class="CViewContainer" transparent="true">
        <view class="ArcKnob" origin="8, 4" size="36, 36"
              control-tag="DistortionGrainSize" default-value="0.47"
              arc-color="distortion" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="0, 40" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Size"/>

        <view class="ArcKnob" origin="72, 4" size="36, 36"
              control-tag="DistortionGrainDensity" default-value="0.43"
              arc-color="distortion" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="60, 40" size="60, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Density"/>

        <view class="ArcKnob" origin="8, 52" size="36, 36"
              control-tag="DistortionGrainVariation" default-value="0.0"
              arc-color="distortion" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="0, 88" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Var"/>

        <view class="ArcKnob" origin="72, 52" size="36, 36"
              control-tag="DistortionGrainJitter" default-value="0.0"
              arc-color="distortion" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="64, 88" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Jitter"/>
    </template>

    <!-- Wavefolder: Type dropdown -->
    <template name="Dist_Wavefolder" size="171, 96" class="CViewContainer" transparent="true">
        <view class="COptionMenu" origin="8, 4" size="110, 18"
              control-tag="DistortionFoldType" default-value="0"
              font="~ NormalFontSmaller" font-color="text-menu"
              back-color="bg-dropdown" frame-color="frame-dropdown"/>
    </template>

    <!-- Tape Saturator: Model dropdown, Saturation + Bias knobs -->
    <template name="Dist_Tape" size="171, 96" class="CViewContainer" transparent="true">
        <view class="COptionMenu" origin="8, 4" size="110, 18"
              control-tag="DistortionTapeModel" default-value="0"
              font="~ NormalFontSmaller" font-color="text-menu"
              back-color="bg-dropdown" frame-color="frame-dropdown"/>

        <view class="ArcKnob" origin="8, 28" size="36, 36"
              control-tag="DistortionTapeSaturation" default-value="0.5"
              arc-color="distortion" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="0, 64" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Saturation"/>

        <view class="ArcKnob" origin="72, 28" size="36, 36"
              control-tag="DistortionTapeBias" default-value="0.5"
              arc-color="distortion" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="64, 64" size="52, 12"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Bias"/>
    </template>

    <!-- ================================================================== -->
    <!-- Delay Type-Specific Templates                                      -->
    <!-- ================================================================== -->

    <!-- Digital: Era, Age, Limiter, Width | ModDepth, ModRate, ModWaveform | WavefoldAmt, WavefoldModel, WavefoldSym -->
    <template name="Delay_Digital" size="615, 112" class="CViewContainer" transparent="true">
        <!-- Row A (y=4): Era, Age, Limiter, Width, ModWaveform  5 items, ~118px spacing -->
        <view class="COptionMenu" origin="8, 6" size="80, 18"
              control-tag="DelayDigitalEra" default-value="0"
              font="~ NormalFontSmaller" font-color="text-menu"
              back-color="bg-dropdown" frame-color="frame-dropdown"/>
        <view class="CTextLabel" origin="8, 26" size="80, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Era"/>

        <view class="ArcKnob" origin="126, 4" size="28, 28"
              control-tag="DelayDigitalAge" default-value="0.0"
              arc-color="effects" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="120, 34" size="40, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Age"/>

        <view class="COptionMenu" origin="222, 6" size="72, 18"
              control-tag="DelayDigitalLimiter" default-value="0"
              font="~ NormalFontSmaller" font-color="text-menu"
              back-color="bg-dropdown" frame-color="frame-dropdown"/>
        <view class="CTextLabel" origin="222, 26" size="72, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Limiter"/>

        <view class="ArcKnob" origin="340, 4" size="28, 28"
              control-tag="DelayDigitalWidth" default-value="0.5"
              arc-color="effects" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="334, 34" size="40, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Width"/>

        <view class="COptionMenu" origin="440, 6" size="90, 18"
              control-tag="DelayDigitalModWaveform" default-value="0"
              font="~ NormalFontSmaller" font-color="text-menu"
              back-color="bg-dropdown" frame-color="frame-dropdown"/>
        <view class="CTextLabel" origin="440, 26" size="90, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Mod Wave"/>

        <!-- Row B (y=56): ModDepth, ModRate, WavefoldAmt, WavefoldModel, WavefoldSym -->
        <view class="ArcKnob" origin="22, 56" size="28, 28"
              control-tag="DelayDigitalModDepth" default-value="0.0"
              arc-color="effects" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="12, 86" size="48, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Mod Dpt"/>

        <view class="ArcKnob" origin="126, 56" size="28, 28"
              control-tag="DelayDigitalModRate" default-value="0.091"
              arc-color="effects" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="118, 86" size="44, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Mod Rt"/>

        <view class="ArcKnob" origin="236, 56" size="28, 28"
              control-tag="DelayDigitalWavefoldAmt" default-value="0.0"
              arc-color="effects" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="228, 86" size="44, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Fold"/>

        <view class="COptionMenu" origin="340, 60" size="90, 18"
              control-tag="DelayDigitalWavefoldModel" default-value="0"
              font="~ NormalFontSmaller" font-color="text-menu"
              back-color="bg-dropdown" frame-color="frame-dropdown"/>
        <view class="CTextLabel" origin="340, 80" size="90, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Fold Model"/>

        <view class="ArcKnob" origin="472, 56" size="28, 28"
              control-tag="DelayDigitalWavefoldSym" default-value="0.5"
              arc-color="effects" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="462, 86" size="48, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Fold Sym"/>
    </template>

    <!-- Tape: Inertia, Wear, Saturation, Age, Splice, SpliceInt | Head1, Head2, Head3 -->
    <template name="Delay_Tape" size="615, 112" class="CViewContainer" transparent="true">
        <!-- Row A (y=4): 6 knobs, ~96px spacing -->
        <view class="ArcKnob" origin="14, 4" size="28, 28"
              control-tag="DelayTapeInertia" default-value="0.222"
              arc-color="effects" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="4, 34" size="48, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Inertia"/>

        <view class="ArcKnob" origin="110, 4" size="28, 28"
              control-tag="DelayTapeWear" default-value="0.0"
              arc-color="effects" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="104, 34" size="40, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Wear"/>

        <view class="ArcKnob" origin="206, 4" size="28, 28"
              control-tag="DelayTapeSaturation" default-value="0.5"
              arc-color="effects" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="200, 34" size="40, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Sat"/>

        <view class="ArcKnob" origin="302, 4" size="28, 28"
              control-tag="DelayTapeAge" default-value="0.0"
              arc-color="effects" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="296, 34" size="40, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Age"/>

        <view class="ArcKnob" origin="398, 4" size="28, 28"
              control-tag="DelayTapeSpliceEnabled" default-value="0.0"
              arc-color="effects" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="388, 34" size="48, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Splice"/>

        <view class="ArcKnob" origin="494, 4" size="28, 28"
              control-tag="DelayTapeSpliceIntensity" default-value="0.0"
              arc-color="effects" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="484, 34" size="48, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Spl Int"/>

        <!-- Row B (y=52): Head 1, Head 2, Head 3  3 groups, ~196px spacing -->
        <view class="CTextLabel" origin="8, 54" size="20, 10"
              font="~ NormalFontSmaller" font-color="master"
              text-alignment="left" transparent="true" title="H1"/>
        <view class="ArcKnob" origin="28, 52" size="28, 28"
              control-tag="DelayTapeHead1Enabled" default-value="1.0"
              arc-color="effects" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="22, 82" size="40, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="On"/>
        <view class="ArcKnob" origin="68, 52" size="28, 28"
              control-tag="DelayTapeHead1Level" default-value="0.941"
              arc-color="effects" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="62, 82" size="40, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Level"/>
        <view class="ArcKnob" origin="108, 52" size="28, 28"
              control-tag="DelayTapeHead1Pan" default-value="0.5"
              arc-color="effects" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="102, 82" size="40, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Pan"/>

        <view class="CTextLabel" origin="200, 54" size="20, 10"
              font="~ NormalFontSmaller" font-color="master"
              text-alignment="left" transparent="true" title="H2"/>
        <view class="ArcKnob" origin="220, 52" size="28, 28"
              control-tag="DelayTapeHead2Enabled" default-value="1.0"
              arc-color="effects" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="214, 82" size="40, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="On"/>
        <view class="ArcKnob" origin="260, 52" size="28, 28"
              control-tag="DelayTapeHead2Level" default-value="0.941"
              arc-color="effects" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="254, 82" size="40, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Level"/>
        <view class="ArcKnob" origin="300, 52" size="28, 28"
              control-tag="DelayTapeHead2Pan" default-value="0.5"
              arc-color="effects" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="294, 82" size="40, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Pan"/>

        <view class="CTextLabel" origin="392, 54" size="20, 10"
              font="~ NormalFontSmaller" font-color="master"
              text-alignment="left" transparent="true" title="H3"/>
        <view class="ArcKnob" origin="412, 52" size="28, 28"
              control-tag="DelayTapeHead3Enabled" default-value="1.0"
              arc-color="effects" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="406, 82" size="40, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="On"/>
        <view class="ArcKnob" origin="452, 52" size="28, 28"
              control-tag="DelayTapeHead3Level" default-value="0.941"
              arc-color="effects" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="446, 82" size="40, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Level"/>
        <view class="ArcKnob" origin="492, 52" size="28, 28"
              control-tag="DelayTapeHead3Pan" default-value="0.5"
              arc-color="effects" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="486, 82" size="40, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Pan"/>
    </template>

    <!-- PingPong: LRRatio, CrossFeed, Width, ModDepth, ModRate (single row, centered) -->
    <template name="Delay_PingPong" size="615, 112" class="CViewContainer" transparent="true">
        <!-- Single row, vertically centered (y=20), 5 items, ~118px spacing -->
        <view class="COptionMenu" origin="28, 24" size="60, 18"
              control-tag="DelayPingPongRatio" default-value="0"
              font="~ NormalFontSmaller" font-color="text-menu"
              back-color="bg-dropdown" frame-color="frame-dropdown"/>
        <view class="CTextLabel" origin="18, 44" size="80, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="L/R Ratio"/>

        <view class="ArcKnob" origin="162, 20" size="28, 28"
              control-tag="DelayPingPongCrossFeed" default-value="1.0"
              arc-color="effects" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="154, 50" size="44, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="XFeed"/>

        <view class="ArcKnob" origin="280, 20" size="28, 28"
              control-tag="DelayPingPongWidth" default-value="0.5"
              arc-color="effects" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="274, 50" size="40, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Width"/>

        <view class="ArcKnob" origin="398, 20" size="28, 28"
              control-tag="DelayPingPongModDepth" default-value="0.0"
              arc-color="effects" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="388, 50" size="48, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Mod Dpt"/>

        <view class="ArcKnob" origin="516, 20" size="28, 28"
              control-tag="DelayPingPongModRate" default-value="0.091"
              arc-color="effects" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="508, 50" size="44, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Mod Rt"/>
    </template>

    <!-- Granular: Size, Density, Pitch, PitchQuant, PitchSpray, PosSpray, Reverse | PanSpray, Jitter, Texture, Width, Envelope, Freeze -->
    <template name="Delay_Granular" size="615, 112" class="CViewContainer" transparent="true">
        <!-- Row A (y=4): 7 items, ~84px spacing -->
        <view class="ArcKnob" origin="14, 4" size="28, 28"
              control-tag="DelayGranularSize" default-value="0.184"
              arc-color="effects" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="8, 34" size="40, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Size"/>

        <view class="ArcKnob" origin="98, 4" size="28, 28"
              control-tag="DelayGranularDensity" default-value="0.091"
              arc-color="effects" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="88, 34" size="48, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Density"/>

        <view class="ArcKnob" origin="182, 4" size="28, 28"
              control-tag="DelayGranularPitch" default-value="0.5"
              arc-color="effects" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="176, 34" size="40, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Pitch"/>

        <view class="COptionMenu" origin="248, 8" size="76, 18"
              control-tag="DelayGranularPitchQuant" default-value="0"
              font="~ NormalFontSmaller" font-color="text-menu"
              back-color="bg-dropdown" frame-color="frame-dropdown"/>
        <view class="CTextLabel" origin="248, 28" size="76, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Pitch Q"/>

        <view class="ArcKnob" origin="350, 4" size="28, 28"
              control-tag="DelayGranularPitchSpray" default-value="0.0"
              arc-color="effects" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="340, 34" size="48, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Pit Spr"/>

        <view class="ArcKnob" origin="434, 4" size="28, 28"
              control-tag="DelayGranularPosSpray" default-value="0.0"
              arc-color="effects" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="424, 34" size="48, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Pos Spr"/>

        <view class="ArcKnob" origin="518, 4" size="28, 28"
              control-tag="DelayGranularReverseProb" default-value="0.0"
              arc-color="effects" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="508, 34" size="48, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Reverse"/>

        <!-- Row B (y=56): 6 items, ~98px spacing -->
        <view class="ArcKnob" origin="14, 56" size="28, 28"
              control-tag="DelayGranularPanSpray" default-value="0.0"
              arc-color="effects" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="4, 86" size="48, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Pan Spr"/>

        <view class="ArcKnob" origin="112, 56" size="28, 28"
              control-tag="DelayGranularJitter" default-value="0.0"
              arc-color="effects" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="106, 86" size="40, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Jitter"/>

        <view class="ArcKnob" origin="210, 56" size="28, 28"
              control-tag="DelayGranularTexture" default-value="0.0"
              arc-color="effects" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="200, 86" size="48, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Texture"/>

        <view class="ArcKnob" origin="308, 56" size="28, 28"
              control-tag="DelayGranularWidth" default-value="1.0"
              arc-color="effects" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="302, 86" size="40, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Width"/>

        <view class="COptionMenu" origin="386, 60" size="90, 18"
              control-tag="DelayGranularEnvelope" default-value="0"
              font="~ NormalFontSmaller" font-color="text-menu"
              back-color="bg-dropdown" frame-color="frame-dropdown"/>
        <view class="CTextLabel" origin="386, 80" size="90, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Envelope"/>

        <view class="ToggleButton" origin="510, 60" size="50, 20"
              control-tag="DelayGranularFreeze"
              title="Freeze"
              title-position="right"
              font="~ NormalFontSmaller"
              font-color="effects"
              text-color="effects"
              tooltip="Freeze granular buffer"
              transparent="true"/>
    </template>

    <!-- Spectral: FFTSize, Spread, Direction, Curve | Tilt, Diffusion, Width, Freeze -->
    <template name="Delay_Spectral" size="615, 112" class="CViewContainer" transparent="true">
        <!-- Row A (y=4): 4 items, ~148px spacing -->
        <view class="COptionMenu" origin="24, 6" size="60, 18"
              control-tag="DelaySpectralFFTSize" default-value="0.333"
              font="~ NormalFontSmaller" font-color="text-menu"
              back-color="bg-dropdown" frame-color="frame-dropdown"/>
        <view class="CTextLabel" origin="14, 26" size="80, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="FFT Size"/>

        <view class="ArcKnob" origin="172, 4" size="28, 28"
              control-tag="DelaySpectralSpread" default-value="0.0"
              arc-color="effects" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="164, 34" size="44, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Spread"/>

        <view class="COptionMenu" origin="290, 6" size="76, 18"
              control-tag="DelaySpectralDirection" default-value="0"
              font="~ NormalFontSmaller" font-color="text-menu"
              back-color="bg-dropdown" frame-color="frame-dropdown"/>
        <view class="CTextLabel" origin="284, 26" size="88, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Direction"/>

        <view class="COptionMenu" origin="444, 6" size="80, 18"
              control-tag="DelaySpectralCurve" default-value="0"
              font="~ NormalFontSmaller" font-color="text-menu"
              back-color="bg-dropdown" frame-color="frame-dropdown"/>
        <view class="CTextLabel" origin="440, 26" size="88, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Curve"/>

        <!-- Row B (y=56): 4 items -->
        <view class="ArcKnob" origin="40, 56" size="28, 28"
              control-tag="DelaySpectralTilt" default-value="0.5"
              arc-color="effects" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="34, 86" size="40, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Tilt"/>

        <view class="ArcKnob" origin="172, 56" size="28, 28"
              control-tag="DelaySpectralDiffusion" default-value="0.0"
              arc-color="effects" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="160, 86" size="52, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Diffusion"/>

        <view class="ArcKnob" origin="320, 56" size="28, 28"
              control-tag="DelaySpectralWidth" default-value="0.0"
              arc-color="effects" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="314, 86" size="40, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Width"/>

        <view class="ToggleButton" origin="460, 60" size="50, 20"
              control-tag="DelaySpectralFreeze"
              title="Freeze"
              title-position="right"
              font="~ NormalFontSmaller"
              font-color="effects"
              text-color="effects"
              tooltip="Freeze spectral buffer"
              transparent="true"/>
    </template>

    <!-- ================================================================ -->
    <!-- Mod Source Templates (for UIViewSwitchContainer)                  -->
    <!-- ================================================================ -->

    <template name="ModSource_LFO1" size="158, 120" class="CViewContainer" transparent="true">
        <!-- Row 1: Rate/NoteValue | Shape | Depth | Phase -->
        <!-- Rate (hidden when sync active) -->
        <view class="CViewContainer" origin="0, 0" size="36, 38"
              custom-view-name="LFO1RateGroup" transparent="true">
            <view class="ArcKnob" origin="4, 0" size="28, 28"
                  control-tag="LFO1Rate" default-value="0.5"
                  arc-color="modulation" guide-color="knob-guide"/>
            <view class="CTextLabel" origin="0, 28" size="36, 10"
                  font="~ NormalFontSmaller" font-color="text-secondary"
                  text-alignment="center" transparent="true" title="Rate"/>
        </view>
        <!-- Note Value (visible when sync active) -->
        <view class="CViewContainer" origin="0, 0" size="36, 38"
              custom-view-name="LFO1NoteValueGroup" transparent="true"
              visible="false">
            <view class="COptionMenu" origin="2, 6" size="32, 16"
                  control-tag="LFO1NoteValue"
                  font="~ NormalFontSmaller" font-color="text-primary"
                  back-color="bg-dropdown" frame-color="frame-dropdown"
                  round-rect-radius="2" frame-width="1"
                  min-value="0" max-value="1"
                  default-value="0.5"/>
            <view class="CTextLabel" origin="0, 28" size="36, 10"
                  font="~ NormalFontSmaller" font-color="text-secondary"
                  text-alignment="center" transparent="true" title="Note"/>
        </view>
        <!-- Shape selector -->
        <view class="LfoShapeSelector"
              origin="38, 0" size="36, 28"
              control-tag="LFO1Shape"
              lfo-color="modulation"
              min-value="0" max-value="1"/>
        <view class="CTextLabel" origin="34, 28" size="44, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Shape"/>
        <!-- Depth -->
        <view class="ArcKnob" origin="82, 0" size="28, 28"
              control-tag="LFO1Depth" default-value="0.5"
              arc-color="modulation" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="76, 28" size="40, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Depth"/>
        <!-- Phase Offset -->
        <view class="ArcKnob" origin="122, 0" size="28, 28"
              control-tag="LFO1Phase" default-value="0.0"
              arc-color="modulation" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="116, 28" size="40, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Phase"/>

        <!-- Row 2: Sync | Retrigger | Unipolar -->
        <view class="ToggleButton" origin="2, 42" size="36, 12"
              control-tag="LFO1Sync" default-value="1.0"
              title="Sync"
              on-color="modulation" off-color="toggle-off"
              font-size="9"/>
        <view class="ToggleButton" origin="42, 42" size="46, 12"
              control-tag="LFO1Retrigger" default-value="1.0"
              title="Retrig"
              on-color="modulation" off-color="toggle-off"
              font-size="9"/>
        <view class="ToggleButton" origin="92, 42" size="50, 12"
              control-tag="LFO1Unipolar" default-value="0.0"
              title="Unipolar"
              on-color="modulation" off-color="toggle-off"
              font-size="9"/>

        <!-- Row 3: Fade-in | Symmetry | Quantize -->
        <view class="ArcKnob" origin="8, 60" size="28, 28"
              control-tag="LFO1FadeIn" default-value="0.0"
              arc-color="modulation" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="0, 88" size="44, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Fade In"/>
        <view class="ArcKnob" origin="58, 60" size="28, 28"
              control-tag="LFO1Symmetry" default-value="0.5"
              arc-color="modulation" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="48, 88" size="48, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Symmetry"/>
        <view class="ArcKnob" origin="108, 60" size="28, 28"
              control-tag="LFO1Quantize" default-value="0.0"
              arc-color="modulation" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="100, 88" size="44, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Quantize"/>
    </template>

    <template name="ModSource_LFO2" size="158, 120" class="CViewContainer" transparent="true">
        <!-- Row 1: Rate/NoteValue | Shape | Depth | Phase -->
        <!-- Rate (hidden when sync active) -->
        <view class="CViewContainer" origin="0, 0" size="36, 38"
              custom-view-name="LFO2RateGroup" transparent="true">
            <view class="ArcKnob" origin="4, 0" size="28, 28"
                  control-tag="LFO2Rate" default-value="0.5"
                  arc-color="modulation" guide-color="knob-guide"/>
            <view class="CTextLabel" origin="0, 28" size="36, 10"
                  font="~ NormalFontSmaller" font-color="text-secondary"
                  text-alignment="center" transparent="true" title="Rate"/>
        </view>
        <!-- Note Value (visible when sync active) -->
        <view class="CViewContainer" origin="0, 0" size="36, 38"
              custom-view-name="LFO2NoteValueGroup" transparent="true"
              visible="false">
            <view class="COptionMenu" origin="2, 6" size="32, 16"
                  control-tag="LFO2NoteValue"
                  font="~ NormalFontSmaller" font-color="text-primary"
                  back-color="bg-dropdown" frame-color="frame-dropdown"
                  round-rect-radius="2" frame-width="1"
                  min-value="0" max-value="1"
                  default-value="0.5"/>
            <view class="CTextLabel" origin="0, 28" size="36, 10"
                  font="~ NormalFontSmaller" font-color="text-secondary"
                  text-alignment="center" transparent="true" title="Note"/>
        </view>
        <!-- Shape selector -->
        <view class="LfoShapeSelector"
              origin="38, 0" size="36, 28"
              control-tag="LFO2Shape"
              lfo-color="modulation"
              min-value="0" max-value="1"/>
        <view class="CTextLabel" origin="34, 28" size="44, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Shape"/>
        <!-- Depth -->
        <view class="ArcKnob" origin="82, 0" size="28, 28"
              control-tag="LFO2Depth" default-value="0.5"
              arc-color="modulation" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="76, 28" size="40, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Depth"/>
        <!-- Phase Offset -->
        <view class="ArcKnob" origin="122, 0" size="28, 28"
              control-tag="LFO2Phase" default-value="0.0"
              arc-color="modulation" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="116, 28" size="40, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Phase"/>

        <!-- Row 2: Sync | Retrigger | Unipolar -->
        <view class="ToggleButton" origin="2, 42" size="36, 12"
              control-tag="LFO2Sync" default-value="1.0"
              title="Sync"
              on-color="modulation" off-color="toggle-off"
              font-size="9"/>
        <view class="ToggleButton" origin="42, 42" size="46, 12"
              control-tag="LFO2Retrigger" default-value="1.0"
              title="Retrig"
              on-color="modulation" off-color="toggle-off"
              font-size="9"/>
        <view class="ToggleButton" origin="92, 42" size="50, 12"
              control-tag="LFO2Unipolar" default-value="0.0"
              title="Unipolar"
              on-color="modulation" off-color="toggle-off"
              font-size="9"/>

        <!-- Row 3: Fade-in | Symmetry | Quantize -->
        <view class="ArcKnob" origin="8, 60" size="28, 28"
              control-tag="LFO2FadeIn" default-value="0.0"
              arc-color="modulation" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="0, 88" size="44, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Fade In"/>
        <view class="ArcKnob" origin="58, 60" size="28, 28"
              control-tag="LFO2Symmetry" default-value="0.5"
              arc-color="modulation" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="48, 88" size="48, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Symmetry"/>
        <view class="ArcKnob" origin="108, 60" size="28, 28"
              control-tag="LFO2Quantize" default-value="0.0"
              arc-color="modulation" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="100, 88" size="44, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Quantize"/>
    </template>

    <template name="ModSource_Chaos" size="158, 120" class="CViewContainer" transparent="true">
        <!-- Row 1: Rate/NoteValue | Type | Depth -->
        <!-- Rate (hidden when sync active) -->
        <view class="CViewContainer" origin="0, 0" size="36, 38"
              custom-view-name="ChaosRateGroup" transparent="true">
            <view class="ArcKnob" origin="4, 0" size="28, 28"
                  control-tag="ChaosRate" default-value="0.5"
                  arc-color="modulation" guide-color="knob-guide"/>
            <view class="CTextLabel" origin="0, 28" size="36, 10"
                  font="~ NormalFontSmaller" font-color="text-secondary"
                  text-alignment="center" transparent="true" title="Rate"/>
        </view>
        <!-- Note Value (visible when sync active) -->
        <view class="CViewContainer" origin="0, 0" size="36, 38"
              custom-view-name="ChaosNoteValueGroup" transparent="true"
              visible="false">
            <view class="COptionMenu" origin="2, 6" size="32, 16"
                  control-tag="ChaosNoteValue"
                  font="~ NormalFontSmaller" font-color="text-primary"
                  back-color="bg-dropdown" frame-color="frame-dropdown"
                  round-rect-radius="2" frame-width="1"
                  min-value="0" max-value="1"
                  default-value="0.5"/>
            <view class="CTextLabel" origin="0, 28" size="36, 10"
                  font="~ NormalFontSmaller" font-color="text-secondary"
                  text-alignment="center" transparent="true" title="Note"/>
        </view>
        <!-- Type dropdown (Lorenz/Rossler) -->
        <view class="COptionMenu" origin="44, 4" size="60, 18"
              control-tag="ChaosType" default-value="0"
              font="~ NormalFontSmaller" font-color="text-primary"
              back-color="bg-dropdown" frame-color="frame-dropdown"
              round-rect-radius="3" frame-width="1"
              text-alignment="center" transparent="false"/>
        <view class="CTextLabel" origin="44, 28" size="60, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Type"/>
        <!-- Depth -->
        <view class="ArcKnob" origin="114, 0" size="28, 28"
              control-tag="ChaosDepth" default-value="0.0"
              arc-color="modulation" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="108, 28" size="40, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Depth"/>

        <!-- Row 2: Sync toggle -->
        <view class="ToggleButton" origin="2, 42" size="36, 12"
              control-tag="ChaosSync" default-value="0.0"
              title="Sync"
              on-color="modulation" off-color="toggle-off"
              font-size="9"/>
    </template>

    <template name="ModSource_Macros" size="158, 120" class="CViewContainer" transparent="true">
        <!-- M1 -->
        <view class="ArcKnob" origin="4, 0" size="28, 28"
              control-tag="Macro1Value" default-value="0.0"
              arc-color="modulation" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="4, 28" size="28, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="M1"/>
        <!-- M2 -->
        <view class="ArcKnob" origin="42, 0" size="28, 28"
              control-tag="Macro2Value" default-value="0.0"
              arc-color="modulation" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="42, 28" size="28, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="M2"/>
        <!-- M3 -->
        <view class="ArcKnob" origin="80, 0" size="28, 28"
              control-tag="Macro3Value" default-value="0.0"
              arc-color="modulation" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="80, 28" size="28, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="M3"/>
        <!-- M4 -->
        <view class="ArcKnob" origin="118, 0" size="28, 28"
              control-tag="Macro4Value" default-value="0.0"
              arc-color="modulation" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="118, 28" size="28, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="M4"/>
    </template>
    <template name="ModSource_Rungler" size="158, 120" class="CViewContainer" transparent="true">
        <!-- Row 1: Osc1 Freq, Osc2 Freq, Depth, Filter -->
        <view class="ArcKnob" origin="4, 0" size="28, 28"
              control-tag="RunglerOsc1Freq" default-value="0.4337"
              arc-color="modulation" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="4, 28" size="28, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Osc1"/>
        <view class="ArcKnob" origin="42, 0" size="28, 28"
              control-tag="RunglerOsc2Freq" default-value="0.4924"
              arc-color="modulation" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="42, 28" size="28, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Osc2"/>
        <view class="ArcKnob" origin="80, 0" size="28, 28"
              control-tag="RunglerDepth" default-value="0.0"
              arc-color="modulation" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="80, 28" size="28, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Depth"/>
        <view class="ArcKnob" origin="118, 0" size="28, 28"
              control-tag="RunglerFilter" default-value="0.0"
              arc-color="modulation" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="118, 28" size="28, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Filter"/>
        <!-- Row 2: Bits knob + Loop Mode toggle -->
        <view class="ArcKnob" origin="4, 50" size="28, 28"
              control-tag="RunglerBits" default-value="0.3333"
              arc-color="modulation" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="4, 78" size="28, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Bits"/>
        <view class="ToggleButton" origin="50, 54" size="40, 18"
              control-tag="RunglerLoopMode" default-value="0"
              title="Loop"
              on-color="modulation" off-color="toggle-off"
              font-size="9"/>
    </template>
    <template name="ModSource_EnvFollower" size="158, 120" class="CViewContainer" transparent="true">
        <!-- Sensitivity -->
        <view class="ArcKnob" origin="4, 0" size="28, 28"
              control-tag="EnvFollowerSensitivity" default-value="0.5"
              arc-color="modulation" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="0, 28" size="36, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Sens"/>
        <!-- Attack -->
        <view class="ArcKnob" origin="48, 0" size="28, 28"
              control-tag="EnvFollowerAttack" default-value="0.5406"
              arc-color="modulation" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="44, 28" size="36, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Atk"/>
        <!-- Release -->
        <view class="ArcKnob" origin="92, 0" size="28, 28"
              control-tag="EnvFollowerRelease" default-value="0.5406"
              arc-color="modulation" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="88, 28" size="36, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Rel"/>
    </template>
    <template name="ModSource_SampleHold" size="158, 120" class="CViewContainer" transparent="true">
        <!-- Rate (hidden when sync active) -->
        <view class="CViewContainer" origin="0, 0" size="36, 38"
              custom-view-name="SHRateGroup" transparent="true">
            <view class="ArcKnob" origin="4, 0" size="28, 28"
                  control-tag="SampleHoldRate" default-value="0.702"
                  arc-color="modulation" guide-color="knob-guide"/>
            <view class="CTextLabel" origin="0, 28" size="36, 10"
                  font="~ NormalFontSmaller" font-color="text-secondary"
                  text-alignment="center" transparent="true" title="Rate"/>
        </view>
        <!-- Note Value (visible when sync active) -->
        <view class="CViewContainer" origin="0, 0" size="36, 38"
              custom-view-name="SHNoteValueGroup" transparent="true"
              visible="false">
            <view class="COptionMenu" origin="2, 6" size="32, 16"
                  control-tag="SampleHoldNoteValue"
                  font="~ NormalFontSmaller" font-color="text-primary"
                  back-color="bg-dropdown" frame-color="frame-dropdown"
                  round-rect-radius="2" frame-width="1"
                  min-value="0" max-value="1"
                  default-value="0.5"/>
            <view class="CTextLabel" origin="0, 28" size="36, 10"
                  font="~ NormalFontSmaller" font-color="text-secondary"
                  text-alignment="center" transparent="true" title="Note"/>
        </view>
        <!-- Slew -->
        <view class="ArcKnob" origin="80, 0" size="28, 28"
              control-tag="SampleHoldSlew" default-value="0.0"
              arc-color="modulation" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="76, 28" size="36, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Slew"/>
        <!-- Sync toggle -->
        <view class="ToggleButton" origin="2, 42" size="36, 12"
              control-tag="SampleHoldSync" default-value="0.0"
              title="Sync"
              on-color="modulation" off-color="toggle-off"
              font-size="9"/>
    </template>
    <template name="ModSource_Random" size="158, 120" class="CViewContainer" transparent="true">
        <!-- Rate (hidden when sync active) -->
        <view class="CViewContainer" origin="0, 0" size="36, 38"
              custom-view-name="RandomRateGroup" transparent="true">
            <view class="ArcKnob" origin="4, 0" size="28, 28"
                  control-tag="RandomRate" default-value="0.702"
                  arc-color="modulation" guide-color="knob-guide"/>
            <view class="CTextLabel" origin="0, 28" size="36, 10"
                  font="~ NormalFontSmaller" font-color="text-secondary"
                  text-alignment="center" transparent="true" title="Rate"/>
        </view>
        <!-- Note Value (visible when sync active) -->
        <view class="CViewContainer" origin="0, 0" size="36, 38"
              custom-view-name="RandomNoteValueGroup" transparent="true"
              visible="false">
            <view class="COptionMenu" origin="2, 6" size="32, 16"
                  control-tag="RandomNoteValue"
                  font="~ NormalFontSmaller" font-color="text-primary"
                  back-color="bg-dropdown" frame-color="frame-dropdown"
                  round-rect-radius="2" frame-width="1"
                  min-value="0" max-value="1"
                  default-value="0.5"/>
            <view class="CTextLabel" origin="0, 28" size="36, 10"
                  font="~ NormalFontSmaller" font-color="text-secondary"
                  text-alignment="center" transparent="true" title="Note"/>
        </view>
        <!-- Smoothness -->
        <view class="ArcKnob" origin="80, 0" size="28, 28"
              control-tag="RandomSmoothness" default-value="0.0"
              arc-color="modulation" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="76, 28" size="36, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Smooth"/>
        <!-- Sync toggle -->
        <view class="ToggleButton" origin="2, 42" size="36, 12"
              control-tag="RandomSync" default-value="0.0"
              title="Sync"
              on-color="modulation" off-color="toggle-off"
              font-size="9"/>
    </template>
    <template name="ModSource_PitchFollower" size="158, 120" class="CViewContainer" transparent="true">
        <!-- Min Hz -->
        <view class="ArcKnob" origin="4, 0" size="28, 28"
              control-tag="PitchFollowerMinHz" default-value="0.4307"
              arc-color="modulation" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="0, 28" size="36, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Min"/>
        <!-- Max Hz -->
        <view class="ArcKnob" origin="42, 0" size="28, 28"
              control-tag="PitchFollowerMaxHz" default-value="0.7153"
              arc-color="modulation" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="38, 28" size="36, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Max"/>
        <!-- Confidence -->
        <view class="ArcKnob" origin="80, 0" size="28, 28"
              control-tag="PitchFollowerConfidence" default-value="0.5"
              arc-color="modulation" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="76, 28" size="36, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Conf"/>
        <!-- Tracking Speed -->
        <view class="ArcKnob" origin="118, 0" size="28, 28"
              control-tag="PitchFollowerSpeed" default-value="0.1379"
              arc-color="modulation" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="114, 28" size="36, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Speed"/>
    </template>
    <template name="ModSource_Transient" size="158, 120" class="CViewContainer" transparent="true">
        <!-- Sensitivity -->
        <view class="ArcKnob" origin="4, 0" size="28, 28"
              control-tag="TransientSensitivity" default-value="0.5"
              arc-color="modulation" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="0, 28" size="36, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Sens"/>
        <!-- Attack -->
        <view class="ArcKnob" origin="48, 0" size="28, 28"
              control-tag="TransientAttack" default-value="0.1579"
              arc-color="modulation" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="44, 28" size="36, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Atk"/>
        <!-- Decay -->
        <view class="ArcKnob" origin="92, 0" size="28, 28"
              control-tag="TransientDecay" default-value="0.1667"
              arc-color="modulation" guide-color="knob-guide"/>
        <view class="CTextLabel" origin="88, 28" size="36, 10"
              font="~ NormalFontSmaller" font-color="text-secondary"
              text-alignment="center" transparent="true" title="Decay"/>
    </template>

    <template
        name="editor"
        minSize="925, 880"
        maxSize="925, 880"
        size="925, 880"
        background-color="bg-main"
        class="CViewContainer"
    >
        <!-- ============================================================ -->
        <!-- HEADER BAR (y=0, height=30)                                  -->
        <!-- ============================================================ -->
        <view
            class="CViewContainer"
            origin="0, 0"
            size="900, 30"
            transparent="true"
        >
            <!-- Plugin Title -->
            <view
                class="CTextLabel"
                origin="12, 4"
                size="120, 22"
                title="RUINAE"
                font="~ NormalFontVeryBig"
                font-color="text-light"
                text-alignment="left"
                transparent="true"
            />

            <!-- Preset Browser -->
            <view
                class="PresetBrowserView"
                origin="500, 2"
                size="392, 26"
                transparent="true"
            />
        </view>

        <!-- ============================================================ -->
        <!-- ROW 1: SOUND SOURCE (y=32, height=160)                       -->
        <!-- ============================================================ -->
        <view
            class="CViewContainer"
            origin="0, 32"
            size="900, 160"
            transparent="true"
        />

        <!-- ROW 2: TIMBRE & DYNAMICS (y=194, height=138) -->
        <view
            class="CViewContainer"
            origin="0, 194"
            size="900, 138"
            transparent="true"
        />

        <!-- ROW 3: TRANCE GATE (y=370, height=160) -->
        <view
            class="CViewContainer"
            origin="0, 384"
            size="900, 160"
            transparent="true"
        />

        <!-- ROW 4: MODULATION (y=532, height=160) -->
        <view
            class="CViewContainer"
            origin="0, 546"
            size="900, 160"
            transparent="true"
        />

        <!-- ROW 5: EFFECTS & OUTPUT (y=694, height=80) -->
        <view
            class="CViewContainer"
            origin="0, 708"
            size="900, 80"
            transparent="true"
        />

        <!-- ============================================================ -->
        <!-- FIELDSET CONTAINERS (absolute coordinates within 900x600)     -->
        <!-- ============================================================ -->

        <!-- Row 1: Sound Source -->

        <!-- OSC A (blue accent) -->
        <view
            class="FieldsetContainer"
            origin="8, 32"
            size="220, 160"
            fieldset-title="OSC A"
            fieldset-color="osc-a"
            fieldset-radius="4"
            fieldset-line-width="1"
            fieldset-font-size="10"
            transparent="true"
        >
            <!-- T024: OscillatorTypeSelector -->
            <view class="OscillatorTypeSelector"
                  origin="16, 44" size="180, 28"
                  control-tag="OscAType" osc-identity="a"
                  min-value="0" max-value="1"
                  default-value="0"/>

            <!-- T025: Tune knob -->
            <view class="ArcKnob" origin="16, 78" size="36, 36"
                  control-tag="OscATune" default-value="0.5"
                  arc-color="osc-a" guide-color="knob-guide"/>
            <view class="CTextLabel" origin="8, 114" size="52, 12"
                  font="~ NormalFontSmaller" font-color="text-secondary"
                  text-alignment="center" transparent="true" title="Tune"/>

            <!-- T026: Detune knob -->
            <view class="ArcKnob" origin="66, 78" size="36, 36"
                  control-tag="OscAFine" default-value="0.5"
                  arc-color="osc-a" guide-color="knob-guide"/>
            <view class="CTextLabel" origin="58, 114" size="52, 12"
                  font="~ NormalFontSmaller" font-color="text-secondary"
                  text-alignment="center" transparent="true" title="Detune"/>

            <!-- T027: Level knob -->
            <view class="ArcKnob" origin="116, 78" size="36, 36"
                  control-tag="OscALevel" default-value="0.5"
                  arc-color="osc-a" guide-color="knob-guide"/>
            <view class="CTextLabel" origin="108, 114" size="52, 12"
                  font="~ NormalFontSmaller" font-color="text-secondary"
                  text-alignment="center" transparent="true" title="Level"/>

            <!-- T028: Phase knob -->
            <view class="ArcKnob" origin="166, 78" size="36, 36"
                  control-tag="OscAPhase" default-value="0.5"
                  arc-color="osc-a" guide-color="knob-guide"/>
            <view class="CTextLabel" origin="158, 114" size="52, 12"
                  font="~ NormalFontSmaller" font-color="text-secondary"
                  text-alignment="center" transparent="true" title="Phase"/>

            <!-- T029: UIViewSwitchContainer for type-specific params -->
            <view class="UIViewSwitchContainer"
                  origin="4, 126" size="212, 32"
                  template-names="OscA_PolyBLEP,OscA_Wavetable,OscA_PhaseDist,OscA_Sync,OscA_Additive,OscA_Chaos,OscA_Particle,OscA_Formant,OscA_SpectralFreeze,OscA_Noise"
                  template-switch-control="OscAType"
                  transparent="true"/>
        </view>

        <!-- SPECTRAL MORPH (gold accent) -->
        <view
            class="FieldsetContainer"
            origin="236, 32"
            size="300, 160"
            fieldset-title="SPECTRAL MORPH"
            fieldset-color="spectral-morph"
            fieldset-radius="4"
            fieldset-line-width="1"
            fieldset-font-size="10"
            transparent="true"
        >
            <!-- T036: XYMorphPad (230x108, non-square is fine) -->
            <view class="XYMorphPad"
                  origin="8, 14" size="280, 108"
                  control-tag="MixPosition" secondary-tag="MixerTilt"
                  color-bottom-left="xy-bottom-left" color-top-left="osc-a"
                  color-bottom-right="xy-bottom-right" color-top-right="osc-b"
                  transparent="false"/>

            <!-- T037: Mode dropdown (below pad) -->
            <view class="COptionMenu"
                  origin="8, 126" size="80, 18"
                  control-tag="MixerMode" default-value="0"
                  font="~ NormalFontSmaller" font-color="text-menu"
                  back-color="bg-dropdown" frame-color="frame-dropdown"/>

            <!-- T038: Shift knob (below pad, right side) -->
            <view class="ArcKnob" origin="250, 124" size="28, 28"
                  control-tag="MixerShift" default-value="0.5"
                  arc-color="spectral-morph" guide-color="knob-guide"/>
            <view class="CTextLabel" origin="244, 148" size="40, 12"
                  font="~ NormalFontSmaller" font-color="text-secondary"
                  text-alignment="center" transparent="true" title="Shift"/>
        </view>

        <!-- OSC B (orange accent) -->
        <view
            class="FieldsetContainer"
            origin="544, 32"
            size="220, 160"
            fieldset-title="OSC B"
            fieldset-color="osc-b"
            fieldset-radius="4"
            fieldset-line-width="1"
            fieldset-font-size="10"
            transparent="true"
        >
            <!-- T030: OscillatorTypeSelector -->
            <view class="OscillatorTypeSelector"
                  origin="16, 44" size="180, 28"
                  control-tag="OscBType" osc-identity="b"
                  min-value="0" max-value="1"
                  default-value="0"/>

            <!-- T031: Tune knob -->
            <view class="ArcKnob" origin="16, 78" size="36, 36"
                  control-tag="OscBTune" default-value="0.5"
                  arc-color="osc-b" guide-color="knob-guide"/>
            <view class="CTextLabel" origin="8, 114" size="52, 12"
                  font="~ NormalFontSmaller" font-color="text-secondary"
                  text-alignment="center" transparent="true" title="Tune"/>

            <!-- T032: Detune knob -->
            <view class="ArcKnob" origin="66, 78" size="36, 36"
                  control-tag="OscBFine" default-value="0.5"
                  arc-color="osc-b" guide-color="knob-guide"/>
            <view class="CTextLabel" origin="58, 114" size="52, 12"
                  font="~ NormalFontSmaller" font-color="text-secondary"
                  text-alignment="center" transparent="true" title="Detune"/>

            <!-- T033: Level knob -->
            <view class="ArcKnob" origin="116, 78" size="36, 36"
                  control-tag="OscBLevel" default-value="0.5"
                  arc-color="osc-b" guide-color="knob-guide"/>
            <view class="CTextLabel" origin="108, 114" size="52, 12"
                  font="~ NormalFontSmaller" font-color="text-secondary"
                  text-alignment="center" transparent="true" title="Level"/>

            <!-- T034: Phase knob -->
            <view class="ArcKnob" origin="166, 78" size="36, 36"
                  control-tag="OscBPhase" default-value="0.5"
                  arc-color="osc-b" guide-color="knob-guide"/>
            <view class="CTextLabel" origin="158, 114" size="52, 12"
                  font="~ NormalFontSmaller" font-color="text-secondary"
                  text-alignment="center" transparent="true" title="Phase"/>

            <!-- T035: UIViewSwitchContainer for type-specific params -->
            <view class="UIViewSwitchContainer"
                  origin="4, 126" size="212, 32"
                  template-names="OscB_PolyBLEP,OscB_Wavetable,OscB_PhaseDist,OscB_Sync,OscB_Additive,OscB_Chaos,OscB_Particle,OscB_Formant,OscB_SpectralFreeze,OscB_Noise"
                  template-switch-control="OscBType"
                  transparent="true"/>
        </view>

        <!-- Row 2: Timbre & Dynamics -->

        <!-- FILTER (cyan accent) -->
        <view
            class="FieldsetContainer"
            origin="8, 194"
            size="170, 138"
            fieldset-title="FILTER"
            fieldset-color="filter"
            fieldset-radius="4"
            fieldset-line-width="1"
            fieldset-font-size="10"
            transparent="true"
        >
            <!-- Top row: Filter Type dropdown + General/Type segment button -->
            <view class="COptionMenu" origin="8, 16" size="80, 18"
                  control-tag="FilterType" default-value="0"
                  font="~ NormalFontSmaller" font-color="text-menu"
                  back-color="bg-dropdown" frame-color="frame-dropdown"/>

            <view class="IconSegmentButton" origin="92, 16" size="40, 18"
                  control-tag="FilterViewMode" default-value="0"
                  segment-names="General,Type-specific"
                  segment-icons="gear,funnel"
                  selected-color="filter" unselected-color="text-secondary"
                  frame-color="frame-dropdown" highlight-color="bg-dropdown"
                  round-radius="3" icon-size="0.55" stroke-width="1.5"/>

            <!-- Switched content: General or Type-specific view -->
            <view class="UIViewSwitchContainer"
                  origin="0, 38" size="154, 96"
                  template-names="Filter_General,Filter_TypeSpecific"
                  template-switch-control="FilterViewMode"
                  transparent="true"/>
        </view>

        <!-- DISTORTION (red accent) -->
        <view
            class="FieldsetContainer"
            origin="186, 194"
            size="179, 138"
            fieldset-title="DISTORTION"
            fieldset-color="distortion"
            fieldset-radius="4"
            fieldset-line-width="1"
            fieldset-font-size="10"
            transparent="true"
        >
            <!-- Distortion Type dropdown -->
            <view class="COptionMenu" origin="8, 16" size="90, 18"
                  control-tag="DistortionType" default-value="0"
                  font="~ NormalFontSmaller" font-color="text-menu"
                  back-color="bg-dropdown" frame-color="frame-dropdown"/>

            <!-- General/Type-Specific toggle (same pattern as filter) -->
            <view class="IconSegmentButton" origin="102, 16" size="40, 18"
                  control-tag="DistortionViewMode" default-value="0"
                  segment-names="General,Type-specific"
                  segment-icons="gear,funnel"
                  selected-color="distortion" unselected-color="text-secondary"
                  frame-color="frame-dropdown" highlight-color="bg-dropdown"
                  round-radius="3" icon-size="0.55" stroke-width="1.5"/>

            <!-- Switchable content area -->
            <view class="UIViewSwitchContainer"
                  origin="0, 38" size="171, 96"
                  template-names="Distortion_General,Distortion_TypeSpecific"
                  template-switch-control="DistortionViewMode"
                  transparent="true"/>
        </view>

        <!-- ENVELOPES (gray accent) -->
        <view
            class="FieldsetContainer"
            origin="373, 194"
            size="544, 138"
            fieldset-title="ENVELOPES"
            fieldset-color="envelopes"
            fieldset-radius="4"
            fieldset-line-width="1"
            fieldset-font-size="10"
            transparent="true"
        >
            <!-- ======================================================== -->
            <!-- ENV 1 - Amp Envelope group (blue amp-env)              -->
            <!-- ======================================================== -->
            <view class="CViewContainer" origin="8, 14" size="170, 120"
                  custom-view-name="EnvGroupAmp" transparent="true">
                <view class="ToggleButton" origin="0, 0" size="14, 28"
                      control-tag="ActionEnvExpandAmp"
                      icon-style="chevron"
                      on-orientation="down" off-orientation="right"
                      on-color="amp-env" off-color="amp-env-dim"
                      tooltip="Expand amp envelope"
                      transparent="true"/>
                <view class="CTextLabel" origin="0, 30" size="14, 90"
                      font="~ NormalFontSmaller" font-color="amp-env"
                      text-alignment="center" transparent="true"
                      text-rotation="270" title="AMP"/>
                <view class="ADSRDisplay" origin="16, 0" size="154, 120"
                      control-tag="AmpEnvAttack"
                      fill-color="amp-env-fill" stroke-color="amp-env"
                      control-point-color="amp-env"
                      background-color="bg-display" grid-color="grid"
                      text-color="text-secondary"/>
            </view>

            <!-- ======================================================== -->
            <!-- ENV 2 - Filter Envelope group (gold filter-env)            -->
            <!-- ======================================================== -->
            <view class="CViewContainer" origin="190, 14" size="170, 120"
                  custom-view-name="EnvGroupFilter" transparent="true">
                <view class="ToggleButton" origin="0, 0" size="14, 28"
                      control-tag="ActionEnvExpandFilter"
                      icon-style="chevron"
                      on-orientation="down" off-orientation="right"
                      on-color="filter-env" off-color="filter-env-dim"
                      tooltip="Expand filter envelope"
                      transparent="true"/>
                <view class="CTextLabel" origin="0, 30" size="14, 90"
                      font="~ NormalFontSmaller" font-color="filter-env"
                      text-alignment="center" transparent="true"
                      text-rotation="270" title="FILTER"/>
                <view class="ADSRDisplay" origin="16, 0" size="154, 120"
                      control-tag="FilterEnvFltAttack"
                      fill-color="filter-env-fill" stroke-color="filter-env"
                      control-point-color="filter-env"
                      background-color="bg-display" grid-color="grid"
                      text-color="text-secondary"/>
            </view>

            <!-- ======================================================== -->
            <!-- ENV 3 - Mod Envelope group (purple mod-env)              -->
            <!-- ======================================================== -->
            <view class="CViewContainer" origin="372, 14" size="170, 120"
                  custom-view-name="EnvGroupMod" transparent="true">
                <view class="ToggleButton" origin="0, 0" size="14, 28"
                      control-tag="ActionEnvExpandMod"
                      icon-style="chevron"
                      on-orientation="down" off-orientation="right"
                      on-color="mod-env" off-color="mod-env-dim"
                      tooltip="Expand mod envelope"
                      transparent="true"/>
                <view class="CTextLabel" origin="0, 30" size="14, 90"
                      font="~ NormalFontSmaller" font-color="mod-env"
                      text-alignment="center" transparent="true"
                      text-rotation="270" title="MOD"/>
                <view class="ADSRDisplay" origin="16, 0" size="154, 120"
                      control-tag="ModEnvAttack"
                      fill-color="mod-env-fill" stroke-color="mod-env"
                      control-point-color="mod-env"
                      background-color="bg-display" grid-color="grid"
                      text-color="text-secondary"/>
            </view>
        </view>

        <!-- Row 2.5: Global Filter -->

        <!-- GLOBAL FILTER (rose accent) -->
        <view
            class="FieldsetContainer"
            origin="8, 334"
            size="909, 50"
            fieldset-title="GLOBAL FILTER"
            fieldset-color="global-filter"
            fieldset-radius="4"
            fieldset-line-width="1"
            fieldset-font-size="10"
            transparent="true"
        >
            <!-- On/Off toggle -->
            <view class="ToggleButton" origin="8, 16" size="40, 18"
                  control-tag="GlobalFilterEnabled" default-value="0"
                  tooltip="Enable global filter"
                  transparent="false"/>

            <!-- Type dropdown -->
            <view class="COptionMenu" origin="56, 16" size="90, 18"
                  control-tag="GlobalFilterType"
                  font="~ NormalFontSmaller" font-color="text-menu"
                  back-color="bg-dropdown" frame-color="frame-dropdown"/>

            <!-- Cutoff knob + label (beside, to the right) -->
            <view class="ArcKnob" origin="200, 14" size="24, 24"
                  control-tag="GlobalFilterCutoff" default-value="0.574"
                  arc-color="global-filter" guide-color="knob-guide"/>
            <view class="CTextLabel" origin="228, 18" size="40, 12"
                  font="~ NormalFontSmaller" font-color="text-secondary"
                  text-alignment="left" transparent="true" title="Cutoff"/>

            <!-- Resonance knob + label (beside, to the right) -->
            <view class="ArcKnob" origin="320, 14" size="24, 24"
                  control-tag="GlobalFilterResonance" default-value="0.020"
                  arc-color="global-filter" guide-color="knob-guide"/>
            <view class="CTextLabel" origin="348, 18" size="36, 12"
                  font="~ NormalFontSmaller" font-color="text-secondary"
                  text-alignment="left" transparent="true" title="Reso"/>
        </view>

        <!-- Row 3: Trance Gate -->

        <!-- TRANCE GATE (gold accent) -->
        <view
            class="FieldsetContainer"
            origin="8, 384"
            size="909, 160"
            fieldset-title="TRANCE GATE"
            fieldset-color="trance-gate"
            fieldset-radius="4"
            fieldset-line-width="1"
            fieldset-font-size="10"
            transparent="true"
        >
            <!-- ======================================================== -->
            <!-- Toolbar row (y=14): Enable, Note Value, Steps, Euclidean -->
            <!-- ======================================================== -->
            <view class="ToggleButton" origin="8, 14" size="40, 18"
                  control-tag="TranceGateEnabled" default-value="0"
                  tooltip="Enable trance gate"
                  transparent="false"/>

            <view class="CTextLabel" origin="56, 16" size="60, 14"
                  font="~ NormalFontSmaller" font-color="text-secondary"
                  text-alignment="left" transparent="true" title="Step count"/>
            <view class="COptionMenu" origin="116, 14" size="56, 18"
                  control-tag="TranceGateNumSteps" default-value="0.467"
                  font="~ NormalFontSmaller" font-color="text-menu"
                  back-color="bg-dropdown" frame-color="frame-dropdown"/>

            <!-- ======================================================== -->
            <!-- Step Pattern Editor (full width)                          -->
            <!-- ======================================================== -->
            <view class="StepPatternEditor" origin="8, 36" size="893, 68"
                  transparent="false"/>

            <!-- ======================================================== -->
            <!-- Bottom row: Action buttons (left) + Knobs (right)        -->
            <!-- ======================================================== -->

            <!-- Pattern preset dropdown (no control-tag to avoid VST3Editor PCL recursion) -->
            <view class="COptionMenu" origin="8, 112" size="110, 22"
                  custom-id="preset-dropdown" default-value="0"
                  font="~ NormalFontSmaller" font-color="text-menu"
                  back-color="bg-dropdown" frame-color="frame-dropdown"/>

            <!-- Transform buttons -->
            <view class="ActionButton" origin="126, 110" size="26, 26"
                  control-tag="ActionTransformInvert" default-value="0"
                  icon-style="invert" tooltip="Invert pattern"
                  transparent="false"/>
            <view class="ActionButton" origin="154, 110" size="26, 26"
                  control-tag="ActionTransformShiftLeft" default-value="0"
                  icon-style="shift-left" tooltip="Shift pattern left"
                  transparent="false"/>
            <view class="ActionButton" origin="182, 110" size="26, 26"
                  control-tag="ActionTransformShiftRight" default-value="0"
                  icon-style="shift-right" tooltip="Shift pattern right"
                  transparent="false"/>

            <!-- Sync toggle -->
            <view class="ToggleButton" origin="260, 113" size="50, 18"
                  control-tag="TranceGateSync"
                  default-value="1.0"
                  title="Sync"
                  title-position="right"
                  font="~ NormalFontSmaller"
                  font-color="trance-gate"
                  text-color="trance-gate"
                  tooltip="Enable tempo sync"
                  transparent="true"/>

            <!-- Parameter controls: Rate/Note, Depth, Attack, Release, Phase -->
            <!-- Rate (hidden when sync active  default sync=on) -->
            <view class="CViewContainer" origin="316, 108" size="48, 38"
                  custom-view-name="TranceGateRateGroup" transparent="true"
                  visible="false">
                <view class="ArcKnob" origin="0, 0" size="28, 28"
                      control-tag="TranceGateRate" default-value="0.5"
                      arc-color="trance-gate" guide-color="knob-guide"/>
                <view class="CTextLabel" origin="-6, 28" size="40, 10"
                      font="~ NormalFontSmaller" font-color="text-secondary"
                      text-alignment="center" transparent="true" title="Rate"/>
            </view>
            <!-- Note Value (visible when sync active  default sync=on) -->
            <view class="CViewContainer" origin="316, 108" size="80, 38"
                  custom-view-name="TranceGateNoteValueGroup" transparent="true">
                <view class="COptionMenu" origin="0, 4" size="70, 20"
                      control-tag="TranceGateNoteValue"
                      font="~ NormalFontSmaller"
                      font-color="trance-gate"
                      back-color="bg-dropdown"
                      frame-color="frame-dropdown"
                      transparent="false"/>
                <view class="CTextLabel" origin="0, 28" size="70, 10"
                      font="~ NormalFontSmaller" font-color="text-secondary"
                      text-alignment="center" transparent="true" title="Note"/>
            </view>

            <view class="ArcKnob" origin="404, 108" size="28, 28"
                  control-tag="TranceGateDepth" default-value="0.5"
                  arc-color="trance-gate" guide-color="knob-guide"/>
            <view class="CTextLabel" origin="398, 136" size="40, 10"
                  font="~ NormalFontSmaller" font-color="text-secondary"
                  text-alignment="center" transparent="true" title="Depth"/>

            <view class="ArcKnob" origin="452, 108" size="28, 28"
                  control-tag="TranceGateAttack" default-value="0.2"
                  arc-color="trance-gate" guide-color="knob-guide"/>
            <view class="CTextLabel" origin="445, 136" size="42, 10"
                  font="~ NormalFontSmaller" font-color="text-secondary"
                  text-alignment="center" transparent="true" title="Attack"/>

            <view class="ArcKnob" origin="500, 108" size="28, 28"
                  control-tag="TranceGateRelease" default-value="0.3"
                  arc-color="trance-gate" guide-color="knob-guide"/>
            <view class="CTextLabel" origin="491, 136" size="46, 10"
                  font="~ NormalFontSmaller" font-color="text-secondary"
                  text-alignment="center" transparent="true" title="Release"/>

            <view class="ArcKnob" origin="548, 108" size="28, 28"
                  control-tag="TranceGatePhaseOffset" default-value="0.0"
                  arc-color="trance-gate" guide-color="knob-guide"/>
            <view class="CTextLabel" origin="542, 136" size="40, 10"
                  font="~ NormalFontSmaller" font-color="text-secondary"
                  text-alignment="center" transparent="true" title="Phase"/>

            <!-- Euclidean toggle (always visible) -->
            <view class="ToggleButton" origin="777, 110" size="26, 26"
                  control-tag="TranceGateEuclideanEnabled" default-value="0"
                  tooltip="Enable euclidean mode"
                  transparent="false"/>
            <view class="CTextLabel" origin="764, 136" size="52, 10"
                  font="~ NormalFontSmaller" font-color="text-secondary"
                  text-alignment="center" transparent="true" title="Euclidean"/>
            <!-- Euclidean controls (hidden when euclidean off) -->
            <view class="CViewContainer" origin="805, 108" size="100, 38"
                  custom-view-name="EuclideanControlsGroup" transparent="true">
                <view class="ActionButton" origin="0, 2" size="26, 26"
                      control-tag="ActionEuclideanRegen" default-value="0"
                      icon-style="regen" tooltip="Regenerate pattern"
                      transparent="false"/>
                <view class="ArcKnob" origin="28, 0" size="28, 28"
                      control-tag="TranceGateEuclideanHits" default-value="0.5"
                      arc-color="trance-gate" guide-color="knob-guide"/>
                <view class="CTextLabel" origin="22, 28" size="40, 10"
                      font="~ NormalFontSmaller" font-color="text-secondary"
                      text-alignment="center" transparent="true" title="Hits"/>
                <view class="ArcKnob" origin="58, 0" size="28, 28"
                      control-tag="TranceGateEuclideanRotation" default-value="0.0"
                      arc-color="trance-gate" guide-color="knob-guide"/>
                <view class="CTextLabel" origin="50, 28" size="44, 10"
                      font="~ NormalFontSmaller" font-color="text-secondary"
                      text-alignment="center" transparent="true" title="Rotate"/>
            </view>
        </view>

        <!-- Row 4: Modulation -->

        <!-- MODULATION (green accent) -->
        <view
            class="FieldsetContainer"
            origin="8, 546"
            size="909, 160"
            fieldset-title="MODULATION"
            fieldset-color="modulation"
            fieldset-radius="4"
            fieldset-line-width="1"
            fieldset-font-size="10"
            transparent="true"
        >
            <!-- ======================================================== -->
            <!-- Mod Source Dropdown Selector                              -->
            <!-- ======================================================== -->
            <view class="COptionMenu" origin="8, 14" size="140, 18"
                  control-tag="ModSourceViewMode" default-value="0"
                  font="~ NormalFontSmaller" font-color="text-menu"
                  back-color="bg-dropdown" frame-color="frame-dropdown"/>

            <!-- ======================================================== -->
            <!-- Mod Source View (switched by dropdown via parameter)     -->
            <!-- ======================================================== -->
            <view class="UIViewSwitchContainer"
                  origin="0, 36" size="158, 120"
                  template-names="ModSource_LFO1,ModSource_LFO2,ModSource_Chaos,ModSource_Macros,ModSource_Rungler,ModSource_EnvFollower,ModSource_SampleHold,ModSource_Random,ModSource_PitchFollower,ModSource_Transient"
                  template-switch-control="ModSourceViewMode"
                  transparent="true"/>

            <!-- ======================================================== -->
            <!-- T072: CategoryTabBar (Global | Voice)                     -->
            <!-- ======================================================== -->
            <view class="CategoryTabBar" origin="168, 14" size="340, 18"
                  transparent="false"/>

            <!-- ======================================================== -->
            <!-- T073: ModMatrixGrid                                       -->
            <!-- ======================================================== -->
            <view class="ModMatrixGrid" origin="168, 34" size="340, 108"
                  transparent="false"/>

            <!-- ======================================================== -->
            <!-- T074: ModHeatmap                                          -->
            <!-- ======================================================== -->
            <view class="ModHeatmap" origin="516, 14" size="385, 128"
                  transparent="false"/>
        </view>

        <!-- Row 5: Effects & Output -->

        <!-- EFFECTS (gray accent) -->
        <view
            class="FieldsetContainer"
            origin="8, 708"
            size="909, 160"
            fieldset-title="EFFECTS"
            fieldset-color="effects"
            fieldset-radius="4"
            fieldset-line-width="1"
            fieldset-font-size="10"
            transparent="true"
        >
            <!-- FX strip (always visible)  Enable + Mix + Expand only -->
            <!-- Order matches signal path: Phaser  Delay  Harmonizer  Reverb -->
            <view class="CViewContainer" origin="4, 14" size="895, 28" transparent="true">
                <!-- Phaser group -->
                <view class="ToggleButton" origin="0, 4" size="60, 20"
                      control-tag="PhaserEnabled"
                      default-value="1.0"
                      title="Phaser"
                      title-position="right"
                      font="~ NormalFontSmaller"
                      font-color="master"
                      text-color="master"
                      transparent="true"/>
                <view class="ArcKnob" origin="65, 0" size="28, 28"
                      control-tag="PhaserMix"
                      default-value="0.5"
                      arc-color="effects"
                      guide-color="knob-guide"/>
                <view class="ToggleButton" origin="105, 4" size="20, 20"
                      control-tag="ActionFxExpandPhaser"
                      icon-style="chevron"
                      on-orientation="down" off-orientation="right"
                      on-color="master" off-color="text-secondary"
                      tooltip="Expand phaser settings"
                      transparent="true"/>

                <!-- Delay group -->
                <view class="ToggleButton" origin="195, 4" size="50, 20"
                      control-tag="DelayEnabled"
                      default-value="1.0"
                      title="Delay"
                      title-position="right"
                      font="~ NormalFontSmaller"
                      font-color="master"
                      text-color="master"
                      transparent="true"/>
                <view class="ArcKnob" origin="255, 0" size="28, 28"
                      control-tag="DelayMix"
                      default-value="0.5"
                      arc-color="effects"
                      guide-color="knob-guide"/>
                <view class="ToggleButton" origin="295, 4" size="20, 20"
                      control-tag="ActionFxExpandDelay"
                      icon-style="chevron"
                      on-orientation="down" off-orientation="right"
                      on-color="master" off-color="text-secondary"
                      tooltip="Expand delay settings"
                      transparent="true"/>

                <!-- Harmonizer group -->
                <view class="ToggleButton" origin="430, 4" size="80, 20"
                      control-tag="HarmonizerEnabled"
                      default-value="0.0"
                      title="Harmonizer"
                      title-position="right"
                      font="~ NormalFontSmaller"
                      font-color="master"
                      text-color="master"
                      transparent="true"/>
                <view class="ToggleButton" origin="520, 4" size="20, 20"
                      control-tag="ActionFxExpandHarmonizer"
                      icon-style="chevron"
                      on-orientation="down" off-orientation="right"
                      on-color="master" off-color="text-secondary"
                      tooltip="Expand harmonizer settings"
                      transparent="true"/>

                <!-- Reverb group -->
                <view class="ToggleButton" origin="660, 4" size="60, 20"
                      control-tag="ReverbEnabled"
                      default-value="1.0"
                      title="Reverb"
                      title-position="right"
                      font="~ NormalFontSmaller"
                      font-color="master"
                      text-color="master"
                      transparent="true"/>
                <view class="ArcKnob" origin="730, 0" size="28, 28"
                      control-tag="ReverbMix"
                      default-value="0.5"
                      arc-color="effects"
                      guide-color="knob-guide"/>
                <view class="ToggleButton" origin="770, 4" size="20, 20"
                      control-tag="ActionFxExpandReverb"
                      icon-style="chevron"
                      on-orientation="down" off-orientation="right"
                      on-color="master" off-color="text-secondary"
                      tooltip="Expand reverb settings"
                      transparent="true"/>
            </view>

            <!-- Detail panels ordered by signal path: Phaser  Delay  Harmonizer  Reverb -->

            <!-- Phaser detail panel (initially hidden, shown by controller) -->
            <view class="CViewContainer" origin="4, 44" size="895, 60"
                  custom-view-name="PhaserDetail" transparent="true">

                <!-- Rate / Sync section -->
                <view class="ToggleButton" origin="8, 2" size="50, 20"
                      control-tag="PhaserSync"
                      default-value="0.0"
                      title="Sync"
                      title-position="right"
                      font="~ NormalFontSmaller"
                      font-color="effects"
                      text-color="effects"
                      transparent="true"/>

                <!-- Rate group (shown when NOT synced  default) -->
                <view class="CViewContainer" origin="66, 0" size="80, 40"
                      custom-view-name="PhaserRateGroup" transparent="true">
                    <view class="ArcKnob" origin="0, 0" size="28, 28"
                          control-tag="PhaserRate"
                          default-value="0.0245"
                          arc-color="effects"
                          guide-color="knob-guide"/>
                    <view class="CTextLabel" origin="-6, 28" size="40, 10"
                          font="~ NormalFontSmaller" font-color="text-secondary"
                          text-alignment="center" transparent="true" title="Rate"/>
                </view>
                <!-- NoteValue group (shown when synced) -->
                <view class="CViewContainer" origin="66, 0" size="80, 40"
                      custom-view-name="PhaserNoteValueGroup" transparent="true">
                    <view class="COptionMenu" origin="0, 4" size="80, 20"
                          control-tag="PhaserNoteValue"
                          font="~ NormalFontSmaller"
                          font-color="master"
                          back-color="bg-dropdown"
                          frame-color="frame-dropdown-dim"
                          transparent="false"/>
                </view>

                <view class="ArcKnob" origin="158, 0" size="28, 28"
                      control-tag="PhaserDepth"
                      default-value="0.5"
                      arc-color="effects"
                      guide-color="knob-guide"/>
                <view class="CTextLabel" origin="152, 28" size="40, 10"
                      font="~ NormalFontSmaller" font-color="text-secondary"
                      text-alignment="center" transparent="true" title="Depth"/>

                <view class="ArcKnob" origin="208, 0" size="28, 28"
                      control-tag="PhaserFeedback"
                      default-value="0.75"
                      arc-color="effects"
                      guide-color="knob-guide"/>
                <view class="CTextLabel" origin="200, 28" size="44, 10"
                      font="~ NormalFontSmaller" font-color="text-secondary"
                      text-alignment="center" transparent="true" title="Feedback"/>

                <view class="COptionMenu" origin="268, 4" size="80, 20"
                      control-tag="PhaserStages"
                      font="~ NormalFontSmaller"
                      font-color="master"
                      back-color="bg-dropdown"
                      frame-color="frame-dropdown-dim"
                      transparent="false"/>
                <view class="CTextLabel" origin="268, 26" size="80, 10"
                      font="~ NormalFontSmaller" font-color="text-secondary"
                      text-alignment="center" transparent="true" title="Stages"/>

                <view class="ArcKnob" origin="368, 0" size="28, 28"
                      control-tag="PhaserCenterFreq"
                      default-value="0.0909"
                      arc-color="effects"
                      guide-color="knob-guide"/>
                <view class="CTextLabel" origin="358, 28" size="48, 10"
                      font="~ NormalFontSmaller" font-color="text-secondary"
                      text-alignment="center" transparent="true" title="Center"/>

                <view class="ArcKnob" origin="428, 0" size="28, 28"
                      control-tag="PhaserStereoSpread"
                      default-value="0.0"
                      arc-color="effects"
                      guide-color="knob-guide"/>
                <view class="CTextLabel" origin="420, 28" size="44, 10"
                      font="~ NormalFontSmaller" font-color="text-secondary"
                      text-alignment="center" transparent="true" title="Spread"/>

                <view class="COptionMenu" origin="488, 4" size="90, 20"
                      control-tag="PhaserWaveform"
                      font="~ NormalFontSmaller"
                      font-color="master"
                      back-color="bg-dropdown"
                      frame-color="frame-dropdown-dim"
                      transparent="false"/>
                <view class="CTextLabel" origin="488, 26" size="90, 10"
                      font="~ NormalFontSmaller" font-color="text-secondary"
                      text-alignment="center" transparent="true" title="Waveform"/>
            </view>

            <!-- Delay detail panel (initially hidden, shown by controller) -->
            <view class="CViewContainer" origin="4, 44" size="895, 112"
                  custom-view-name="DelayDetail" transparent="true">

                <!-- Left panel: Common delay controls (260px) -->
                <view class="COptionMenu" origin="8, 10" size="120, 20"
                      control-tag="DelayType"
                      font="~ NormalFontSmaller"
                      font-color="master"
                      back-color="bg-dropdown"
                      frame-color="frame-dropdown-dim"
                      transparent="false"/>
                <view class="CTextLabel" origin="8, 32" size="120, 10"
                      font="~ NormalFontSmaller" font-color="text-secondary"
                      text-alignment="center" transparent="true" title="Type"/>

                <view class="ToggleButton" origin="148, 12" size="50, 20"
                      control-tag="DelaySync"
                      default-value="1.0"
                      title="Sync"
                      title-position="right"
                      font="~ NormalFontSmaller"
                      font-color="effects"
                      text-color="effects"
                      transparent="true"/>

                <!-- Time group (hidden when synced) -->
                <view class="CViewContainer" origin="8, 56" size="110, 28"
                      custom-view-name="DelayTimeGroup" transparent="true">
                    <view class="ArcKnob" origin="0, 0" size="28, 28"
                          control-tag="DelayTime"
                          default-value="0.1"
                          arc-color="effects"
                          guide-color="knob-guide"/>
                </view>
                <!-- NoteValue group (shown when synced  default) -->
                <view class="CViewContainer" origin="8, 56" size="110, 28"
                      custom-view-name="DelayNoteValueGroup" transparent="true">
                    <view class="COptionMenu" origin="0, 4" size="80, 20"
                          control-tag="DelayNoteValue"
                          font="~ NormalFontSmaller"
                          font-color="master"
                          back-color="bg-dropdown"
                          frame-color="frame-dropdown-dim"
                          transparent="false"/>
                </view>
                <view class="CTextLabel" origin="2, 86" size="44, 10"
                      font="~ NormalFontSmaller" font-color="text-secondary"
                      text-alignment="center" transparent="true" title="Time"/>

                <view class="ArcKnob" origin="168, 56" size="28, 28"
                      control-tag="DelayFeedback"
                      default-value="0.333"
                      arc-color="effects"
                      guide-color="knob-guide"/>
                <view class="CTextLabel" origin="156, 86" size="52, 10"
                      font="~ NormalFontSmaller" font-color="text-secondary"
                      text-alignment="center" transparent="true" title="Feedback"/>

                <!-- Right panel: Type-specific controls -->
                <view class="UIViewSwitchContainer"
                      origin="270, 0" size="615, 112"
                      template-names="Delay_Digital,Delay_Tape,Delay_PingPong,Delay_Granular,Delay_Spectral"
                      template-switch-control="DelayType"
                      transparent="true"/>
            </view>

            <!-- Harmonizer detail panel (initially hidden, shown by controller) -->
            <view class="CViewContainer" origin="4, 44" size="895, 120"
                  custom-view-name="HarmonizerDetail" transparent="true">

                <!-- Global controls row -->
                <view class="COptionMenu" origin="8, 4" size="80, 20"
                      control-tag="HarmonizerHarmonyMode"
                      font="~ NormalFontSmaller"
                      font-color="master"
                      back-color="bg-dropdown"
                      frame-color="frame-dropdown-dim"
                      transparent="false"/>
                <view class="CTextLabel" origin="8, 26" size="80, 10"
                      font="~ NormalFontSmaller" font-color="text-secondary"
                      text-alignment="center" transparent="true" title="Mode"/>

                <view class="COptionMenu" origin="98, 4" size="60, 20"
                      control-tag="HarmonizerKey"
                      font="~ NormalFontSmaller"
                      font-color="master"
                      back-color="bg-dropdown"
                      frame-color="frame-dropdown-dim"
                      transparent="false"/>
                <view class="CTextLabel" origin="98, 26" size="60, 10"
                      font="~ NormalFontSmaller" font-color="text-secondary"
                      text-alignment="center" transparent="true" title="Key"/>

                <view class="COptionMenu" origin="168, 4" size="100, 20"
                      control-tag="HarmonizerScale"
                      font="~ NormalFontSmaller"
                      font-color="master"
                      back-color="bg-dropdown"
                      frame-color="frame-dropdown-dim"
                      transparent="false"/>
                <view class="CTextLabel" origin="168, 26" size="100, 10"
                      font="~ NormalFontSmaller" font-color="text-secondary"
                      text-alignment="center" transparent="true" title="Scale"/>

                <view class="COptionMenu" origin="278, 4" size="100, 20"
                      control-tag="HarmonizerPitchShiftMode"
                      font="~ NormalFontSmaller"
                      font-color="master"
                      back-color="bg-dropdown"
                      frame-color="frame-dropdown-dim"
                      transparent="false"/>
                <view class="CTextLabel" origin="278, 26" size="100, 10"
                      font="~ NormalFontSmaller" font-color="text-secondary"
                      text-alignment="center" transparent="true" title="Pitch Mode"/>

                <view class="ToggleButton" origin="390, 4" size="60, 20"
                      control-tag="HarmonizerFormantPreserve"
                      default-value="0.0"
                      title="Formant"
                      title-position="right"
                      font="~ NormalFontSmaller"
                      font-color="effects"
                      text-color="effects"
                      transparent="true"/>

                <view class="COptionMenu" origin="460, 4" size="60, 20"
                      control-tag="HarmonizerNumVoices"
                      font="~ NormalFontSmaller"
                      font-color="master"
                      back-color="bg-dropdown"
                      frame-color="frame-dropdown-dim"
                      transparent="false"/>
                <view class="CTextLabel" origin="460, 26" size="60, 10"
                      font="~ NormalFontSmaller" font-color="text-secondary"
                      text-alignment="center" transparent="true" title="Voices"/>

                <view class="ArcKnob" origin="540, 0" size="28, 28"
                      control-tag="HarmonizerDryLevel"
                      default-value="0.909"
                      arc-color="effects"
                      guide-color="knob-guide"/>
                <view class="CTextLabel" origin="534, 28" size="40, 10"
                      font="~ NormalFontSmaller" font-color="text-secondary"
                      text-alignment="center" transparent="true" title="Dry"/>

                <view class="ArcKnob" origin="590, 0" size="28, 28"
                      control-tag="HarmonizerWetLevel"
                      default-value="0.818"
                      arc-color="effects"
                      guide-color="knob-guide"/>
                <view class="CTextLabel" origin="584, 28" size="40, 10"
                      font="~ NormalFontSmaller" font-color="text-secondary"
                      text-alignment="center" transparent="true" title="Wet"/>

                <!-- Voice controls  two-column layout -->
                <!-- Left column: Voice 1 & Voice 2 -->
                <view class="CViewContainer" origin="8, 40" size="260, 34"
                      custom-view-name="HarmonizerVoice1" transparent="true">
                    <view class="CTextLabel" origin="0, 1" size="48, 16"
                          font="~ NormalFontSmaller" font-color="text-secondary"
                          text-alignment="left" transparent="true" title="Voice 1"/>
                    <view class="COptionMenu" origin="50, 0" size="60, 18"
                          control-tag="HarmonizerVoice1Interval"
                          font="~ NormalFontSmaller"
                          font-color="master"
                          back-color="bg-dropdown"
                          frame-color="frame-dropdown-dim"
                          transparent="false"/>
                    <view class="ArcKnob" origin="122, -2" size="22, 22"
                          control-tag="HarmonizerVoice1Level"
                          default-value="0.909"
                          arc-color="effects"
                          guide-color="knob-guide"/>
                    <view class="ArcKnob" origin="158, -2" size="22, 22"
                          control-tag="HarmonizerVoice1Pan"
                          default-value="0.5"
                          arc-color="effects"
                          guide-color="knob-guide"/>
                    <view class="ArcKnob" origin="194, -2" size="22, 22"
                          control-tag="HarmonizerVoice1Delay"
                          default-value="0.0"
                          arc-color="effects"
                          guide-color="knob-guide"/>
                    <view class="ArcKnob" origin="230, -2" size="22, 22"
                          control-tag="HarmonizerVoice1Detune"
                          default-value="0.5"
                          arc-color="effects"
                          guide-color="knob-guide"/>
                    <view class="CTextLabel" origin="50, 22" size="60, 10"
                          font="~ NormalFontSmaller" font-color="text-secondary"
                          text-alignment="center" transparent="true" title="Interval"/>
                    <view class="CTextLabel" origin="116, 22" size="34, 10"
                          font="~ NormalFontSmaller" font-color="text-secondary"
                          text-alignment="center" transparent="true" title="Level"/>
                    <view class="CTextLabel" origin="152, 22" size="34, 10"
                          font="~ NormalFontSmaller" font-color="text-secondary"
                          text-alignment="center" transparent="true" title="Pan"/>
                    <view class="CTextLabel" origin="188, 22" size="34, 10"
                          font="~ NormalFontSmaller" font-color="text-secondary"
                          text-alignment="center" transparent="true" title="Delay"/>
                    <view class="CTextLabel" origin="224, 22" size="34, 10"
                          font="~ NormalFontSmaller" font-color="text-secondary"
                          text-alignment="center" transparent="true" title="Detune"/>
                </view>

                <view class="CViewContainer" origin="8, 78" size="260, 34"
                      custom-view-name="HarmonizerVoice2" transparent="true">
                    <view class="CTextLabel" origin="0, 1" size="48, 16"
                          font="~ NormalFontSmaller" font-color="text-secondary"
                          text-alignment="left" transparent="true" title="Voice 2"/>
                    <view class="COptionMenu" origin="50, 0" size="60, 18"
                          control-tag="HarmonizerVoice2Interval"
                          font="~ NormalFontSmaller"
                          font-color="master"
                          back-color="bg-dropdown"
                          frame-color="frame-dropdown-dim"
                          transparent="false"/>
                    <view class="ArcKnob" origin="122, -2" size="22, 22"
                          control-tag="HarmonizerVoice2Level"
                          default-value="0.909"
                          arc-color="effects"
                          guide-color="knob-guide"/>
                    <view class="ArcKnob" origin="158, -2" size="22, 22"
                          control-tag="HarmonizerVoice2Pan"
                          default-value="0.5"
                          arc-color="effects"
                          guide-color="knob-guide"/>
                    <view class="ArcKnob" origin="194, -2" size="22, 22"
                          control-tag="HarmonizerVoice2Delay"
                          default-value="0.0"
                          arc-color="effects"
                          guide-color="knob-guide"/>
                    <view class="ArcKnob" origin="230, -2" size="22, 22"
                          control-tag="HarmonizerVoice2Detune"
                          default-value="0.5"
                          arc-color="effects"
                          guide-color="knob-guide"/>
                    <view class="CTextLabel" origin="50, 22" size="60, 10"
                          font="~ NormalFontSmaller" font-color="text-secondary"
                          text-alignment="center" transparent="true" title="Interval"/>
                    <view class="CTextLabel" origin="116, 22" size="34, 10"
                          font="~ NormalFontSmaller" font-color="text-secondary"
                          text-alignment="center" transparent="true" title="Level"/>
                    <view class="CTextLabel" origin="152, 22" size="34, 10"
                          font="~ NormalFontSmaller" font-color="text-secondary"
                          text-alignment="center" transparent="true" title="Pan"/>
                    <view class="CTextLabel" origin="188, 22" size="34, 10"
                          font="~ NormalFontSmaller" font-color="text-secondary"
                          text-alignment="center" transparent="true" title="Delay"/>
                    <view class="CTextLabel" origin="224, 22" size="34, 10"
                          font="~ NormalFontSmaller" font-color="text-secondary"
                          text-alignment="center" transparent="true" title="Detune"/>
                </view>

                <!-- Right column: Voice 3 & Voice 4 -->
                <view class="CViewContainer" origin="320, 40" size="260, 34"
                      custom-view-name="HarmonizerVoice3" transparent="true">
                    <view class="CTextLabel" origin="0, 1" size="48, 16"
                          font="~ NormalFontSmaller" font-color="text-secondary"
                          text-alignment="left" transparent="true" title="Voice 3"/>
                    <view class="COptionMenu" origin="50, 0" size="60, 18"
                          control-tag="HarmonizerVoice3Interval"
                          font="~ NormalFontSmaller"
                          font-color="master"
                          back-color="bg-dropdown"
                          frame-color="frame-dropdown-dim"
                          transparent="false"/>
                    <view class="ArcKnob" origin="122, -2" size="22, 22"
                          control-tag="HarmonizerVoice3Level"
                          default-value="0.909"
                          arc-color="effects"
                          guide-color="knob-guide"/>
                    <view class="ArcKnob" origin="158, -2" size="22, 22"
                          control-tag="HarmonizerVoice3Pan"
                          default-value="0.5"
                          arc-color="effects"
                          guide-color="knob-guide"/>
                    <view class="ArcKnob" origin="194, -2" size="22, 22"
                          control-tag="HarmonizerVoice3Delay"
                          default-value="0.0"
                          arc-color="effects"
                          guide-color="knob-guide"/>
                    <view class="ArcKnob" origin="230, -2" size="22, 22"
                          control-tag="HarmonizerVoice3Detune"
                          default-value="0.5"
                          arc-color="effects"
                          guide-color="knob-guide"/>
                    <view class="CTextLabel" origin="50, 22" size="60, 10"
                          font="~ NormalFontSmaller" font-color="text-secondary"
                          text-alignment="center" transparent="true" title="Interval"/>
                    <view class="CTextLabel" origin="116, 22" size="34, 10"
                          font="~ NormalFontSmaller" font-color="text-secondary"
                          text-alignment="center" transparent="true" title="Level"/>
                    <view class="CTextLabel" origin="152, 22" size="34, 10"
                          font="~ NormalFontSmaller" font-color="text-secondary"
                          text-alignment="center" transparent="true" title="Pan"/>
                    <view class="CTextLabel" origin="188, 22" size="34, 10"
                          font="~ NormalFontSmaller" font-color="text-secondary"
                          text-alignment="center" transparent="true" title="Delay"/>
                    <view class="CTextLabel" origin="224, 22" size="34, 10"
                          font="~ NormalFontSmaller" font-color="text-secondary"
                          text-alignment="center" transparent="true" title="Detune"/>
                </view>

                <view class="CViewContainer" origin="320, 78" size="260, 34"
                      custom-view-name="HarmonizerVoice4" transparent="true">
                    <view class="CTextLabel" origin="0, 1" size="48, 16"
                          font="~ NormalFontSmaller" font-color="text-secondary"
                          text-alignment="left" transparent="true" title="Voice 4"/>
                    <view class="COptionMenu" origin="50, 0" size="60, 18"
                          control-tag="HarmonizerVoice4Interval"
                          font="~ NormalFontSmaller"
                          font-color="master"
                          back-color="bg-dropdown"
                          frame-color="frame-dropdown-dim"
                          transparent="false"/>
                    <view class="ArcKnob" origin="122, -2" size="22, 22"
                          control-tag="HarmonizerVoice4Level"
                          default-value="0.909"
                          arc-color="effects"
                          guide-color="knob-guide"/>
                    <view class="ArcKnob" origin="158, -2" size="22, 22"
                          control-tag="HarmonizerVoice4Pan"
                          default-value="0.5"
                          arc-color="effects"
                          guide-color="knob-guide"/>
                    <view class="ArcKnob" origin="194, -2" size="22, 22"
                          control-tag="HarmonizerVoice4Delay"
                          default-value="0.0"
                          arc-color="effects"
                          guide-color="knob-guide"/>
                    <view class="ArcKnob" origin="230, -2" size="22, 22"
                          control-tag="HarmonizerVoice4Detune"
                          default-value="0.5"
                          arc-color="effects"
                          guide-color="knob-guide"/>
                    <view class="CTextLabel" origin="50, 22" size="60, 10"
                          font="~ NormalFontSmaller" font-color="text-secondary"
                          text-alignment="center" transparent="true" title="Interval"/>
                    <view class="CTextLabel" origin="116, 22" size="34, 10"
                          font="~ NormalFontSmaller" font-color="text-secondary"
                          text-alignment="center" transparent="true" title="Level"/>
                    <view class="CTextLabel" origin="152, 22" size="34, 10"
                          font="~ NormalFontSmaller" font-color="text-secondary"
                          text-alignment="center" transparent="true" title="Pan"/>
                    <view class="CTextLabel" origin="188, 22" size="34, 10"
                          font="~ NormalFontSmaller" font-color="text-secondary"
                          text-alignment="center" transparent="true" title="Delay"/>
                    <view class="CTextLabel" origin="224, 22" size="34, 10"
                          font="~ NormalFontSmaller" font-color="text-secondary"
                          text-alignment="center" transparent="true" title="Detune"/>
                </view>
            </view>

            <!-- Reverb detail panel (initially hidden, shown by controller) -->
            <view class="CViewContainer" origin="4, 44" size="895, 46"
                  custom-view-name="ReverbDetail" transparent="true">
                <view class="ArcKnob" origin="8, 0" size="32, 32"
                      control-tag="ReverbSize"
                      default-value="0.5"
                      arc-color="effects"
                      guide-color="knob-guide"/>
                <view class="CTextLabel" origin="4, 34" size="40, 10"
                      font="~ NormalFontSmaller" font-color="text-secondary"
                      text-alignment="center" transparent="true" title="Size"/>
                <view class="ArcKnob" origin="48, 0" size="32, 32"
                      control-tag="ReverbDamping"
                      default-value="0.5"
                      arc-color="effects"
                      guide-color="knob-guide"/>
                <view class="CTextLabel" origin="44, 34" size="40, 10"
                      font="~ NormalFontSmaller" font-color="text-secondary"
                      text-alignment="center" transparent="true" title="Damp"/>
                <view class="ArcKnob" origin="88, 0" size="32, 32"
                      control-tag="ReverbWidth"
                      default-value="1.0"
                      arc-color="effects"
                      guide-color="knob-guide"/>
                <view class="CTextLabel" origin="84, 34" size="40, 10"
                      font="~ NormalFontSmaller" font-color="text-secondary"
                      text-alignment="center" transparent="true" title="Width"/>
                <view class="ArcKnob" origin="128, 0" size="32, 32"
                      control-tag="ReverbPreDelay"
                      default-value="0.0"
                      arc-color="effects"
                      guide-color="knob-guide"/>
                <view class="CTextLabel" origin="124, 34" size="40, 10"
                      font="~ NormalFontSmaller" font-color="text-secondary"
                      text-alignment="center" transparent="true" title="Pre-D"/>
                <view class="ArcKnob" origin="168, 0" size="32, 32"
                      control-tag="ReverbDiffusion"
                      default-value="0.7"
                      arc-color="effects"
                      guide-color="knob-guide"/>
                <view class="CTextLabel" origin="164, 34" size="40, 10"
                      font="~ NormalFontSmaller" font-color="text-secondary"
                      text-alignment="center" transparent="true" title="Diff"/>
                <view class="ArcKnob" origin="228, 0" size="32, 32"
                      control-tag="ReverbModRate"
                      default-value="0.25"
                      arc-color="effects"
                      guide-color="knob-guide"/>
                <view class="CTextLabel" origin="224, 34" size="40, 10"
                      font="~ NormalFontSmaller" font-color="text-secondary"
                      text-alignment="center" transparent="true" title="Rate"/>
                <view class="ArcKnob" origin="268, 0" size="32, 32"
                      control-tag="ReverbModDepth"
                      default-value="0.0"
                      arc-color="effects"
                      guide-color="knob-guide"/>
                <view class="CTextLabel" origin="264, 34" size="40, 10"
                      font="~ NormalFontSmaller" font-color="text-secondary"
                      text-alignment="center" transparent="true" title="Mod"/>
                <view class="ToggleButton" origin="320, 8" size="60, 20"
                      control-tag="ReverbFreeze"
                      title="Freeze"
                      title-position="right"
                      font="~ NormalFontSmaller"
                      font-color="effects"
                      text-color="effects"
                      tooltip="Freeze reverb tail"
                      transparent="true"/>
            </view>
        </view>

        <!-- Voice & Output (silver accent)  Row 1, right of OSC B -->
        <view
            class="FieldsetContainer"
            origin="772, 32"
            size="145, 160"
            fieldset-title="Voice &amp; Output"
            fieldset-color="master"
            fieldset-radius="4"
            fieldset-line-width="1"
            fieldset-font-size="10"
            transparent="true"
        >
            <!-- Row 1: Voice Mode dropdown with "Mode" label + gear icon -->
            <view class="CTextLabel" origin="4, 14" size="28, 18"
                  title="Mode"
                  font="~ NormalFontSmaller"
                  font-color="text-secondary"
                  text-alignment="left"
                  transparent="true"/>
            <view class="COptionMenu" origin="32, 14" size="56, 18"
                  control-tag="VoiceMode"
                  default-value="0"
                  font="~ NormalFontSmaller"
                  font-color="master"
                  back-color="bg-dropdown"
                  frame-color="frame-dropdown-dim"
                  tooltip="Voice Mode"
                  transparent="false"/>

            <!-- Gear icon (toggles settings drawer) -->
            <view class="ToggleButton" origin="92, 14" size="18, 18"
                  control-tag="ActionSettingsToggle"
                  icon-style="gear"
                  on-color="master"
                  off-color="text-secondary"
                  icon-size="0.65"
                  stroke-width="1.5"
                  tooltip="Settings"
                  transparent="true"/>

            <!-- Row 2: Polyphony dropdown (visible when Voice Mode = Poly) -->
            <view class="CViewContainer" origin="8, 36" size="137, 18"
                  custom-view-name="PolyGroup" transparent="true">
                <view class="COptionMenu" origin="0, 0" size="85, 18"
                      control-tag="Polyphony"
                      font="~ NormalFontSmaller"
                      font-color="master"
                      back-color="bg-dropdown"
                      frame-color="frame-dropdown-dim"
                      tooltip="Polyphony"
                      transparent="false"/>
            </view>
            <!-- Mono controls (visible when Voice Mode = Mono) -->
            <view class="CViewContainer" origin="8, 36" size="137, 18"
                  custom-view-name="MonoGroup" transparent="true"
                  visible="false">
                <view class="ToggleButton" origin="0, 0" size="22, 18"
                      control-tag="MonoLegato"
                      default-value="0"
                      title="Leg"
                      title-position="right"
                      font="~ NormalFontSmaller"
                      font-color="master"
                      text-color="master"
                      on-color="master"
                      off-color="text-secondary"
                      tooltip="Legato mode"
                      transparent="true"/>
                <view class="COptionMenu" origin="24, 0" size="48, 18"
                      control-tag="MonoPriority"
                      default-value="0"
                      font="~ NormalFontSmaller"
                      font-color="master"
                      back-color="bg-dropdown"
                      frame-color="frame-dropdown-dim"
                      tooltip="Note priority"
                      transparent="false"/>
                <view class="ArcKnob" origin="74, 0" size="18, 18"
                      control-tag="MonoPortamentoTime"
                      default-value="0"
                      arc-color="master"
                      guide-color="knob-guide"
                      tooltip="Portamento time"/>
                <view class="COptionMenu" origin="94, 0" size="43, 18"
                      control-tag="MonoPortaMode"
                      default-value="0"
                      font="~ NormalFontSmaller"
                      font-color="master"
                      back-color="bg-dropdown"
                      frame-color="frame-dropdown-dim"
                      tooltip="Portamento mode"
                      transparent="false"/>
            </view>

            <!-- Output knob (centered, 32x32) -->
            <view class="ArcKnob" origin="44, 58" size="32, 32"
                  control-tag="MasterGain"
                  default-value="0.5"
                  arc-color="master"
                  guide-color="knob-guide"/>
            <view class="CTextLabel" origin="34, 90" size="52, 10"
                  title="Output"
                  font="~ NormalFontSmaller"
                  font-color="text-secondary"
                  text-alignment="center"
                  transparent="true"/>

            <!-- Width knob (functional, wired to parameter) -->
            <view class="ArcKnob" origin="14, 104" size="28, 28"
                  control-tag="Width"
                  default-value="0.5"
                  arc-color="master"
                  guide-color="knob-guide"/>
            <view class="CTextLabel" origin="10, 132" size="36, 10"
                  title="Width"
                  font="~ NormalFontSmaller"
                  font-color="text-secondary"
                  text-alignment="center"
                  transparent="true"/>

            <!-- Spread knob (functional, wired to parameter) -->
            <view class="ArcKnob" origin="62, 104" size="28, 28"
                  control-tag="Spread"
                  default-value="0"
                  arc-color="master"
                  guide-color="knob-guide"/>
            <view class="CTextLabel" origin="58, 132" size="40, 10"
                  title="Spread"
                  font="~ NormalFontSmaller"
                  font-color="text-secondary"
                  text-alignment="center"
                  transparent="true"/>

            <!-- Soft Limit toggle (bottom) -->
            <view class="ToggleButton" origin="20, 146" size="80, 14"
                  control-tag="SoftLimit"
                  title="Soft Limit"
                  font="~ NormalFontSmaller"
                  font-color="master"
                  text-color="master"
                  tooltip="Limit output level"
                  transparent="true"/>
        </view>

        <!-- Settings Drawer Click-Outside Overlay (transparent, catches clicks to dismiss) -->
        <view class="ToggleButton" origin="0, 0" size="925, 880"
              control-tag="ActionSettingsOverlay"
              custom-view-name="SettingsOverlay"
              icon-style=""
              on-color="~ TransparentCColor"
              off-color="~ TransparentCColor"
              transparent="true"
              visible="false"/>

        <!-- Settings Drawer (slides in from right edge) -->
        <view
            class="CViewContainer"
            origin="925, 0"
            size="220, 880"
            background-color="bg-drawer"
            custom-view-name="SettingsDrawer"
            transparent="false"
        >
            <!-- SETTINGS title -->
            <view class="CTextLabel" origin="16, 16" size="188, 20"
                  title="SETTINGS"
                  font="~ NormalFontBig"
                  font-color="text-light"
                  text-alignment="left"
                  transparent="true"/>

            <!-- Pitch Bend Range -->
            <view class="CTextLabel" origin="16, 56" size="120, 14"
                  title="Pitch Bend Range"
                  font="~ NormalFontSmaller"
                  font-color="text-secondary"
                  text-alignment="left"
                  transparent="true"/>
            <view class="ArcKnob" origin="16, 74" size="36, 36"
                  control-tag="SettingsPitchBendRange" default-value="0.0833"
                  arc-color="master" guide-color="knob-guide"/>

            <!-- Velocity Curve -->
            <view class="CTextLabel" origin="16, 126" size="120, 14"
                  title="Velocity Curve"
                  font="~ NormalFontSmaller"
                  font-color="text-secondary"
                  text-alignment="left"
                  transparent="true"/>
            <view class="COptionMenu" origin="16, 144" size="140, 20"
                  control-tag="SettingsVelocityCurve"
                  default-value="0"
                  font="~ NormalFontSmaller"
                  font-color="master"
                  back-color="bg-dropdown"
                  frame-color="frame-dropdown-dim"
                  transparent="false"/>

            <!-- Tuning Reference -->
            <view class="CTextLabel" origin="16, 182" size="120, 14"
                  title="Tuning Reference"
                  font="~ NormalFontSmaller"
                  font-color="text-secondary"
                  text-alignment="left"
                  transparent="true"/>
            <view class="ArcKnob" origin="16, 200" size="36, 36"
                  control-tag="SettingsTuningReference" default-value="0.5"
                  arc-color="master" guide-color="knob-guide"/>

            <!-- Voice Allocation -->
            <view class="CTextLabel" origin="16, 252" size="120, 14"
                  title="Voice Allocation"
                  font="~ NormalFontSmaller"
                  font-color="text-secondary"
                  text-alignment="left"
                  transparent="true"/>
            <view class="COptionMenu" origin="16, 270" size="140, 20"
                  control-tag="SettingsVoiceAllocMode"
                  font="~ NormalFontSmaller"
                  font-color="master"
                  back-color="bg-dropdown"
                  frame-color="frame-dropdown-dim"
                  transparent="false"/>

            <!-- Voice Steal -->
            <view class="CTextLabel" origin="16, 308" size="120, 14"
                  title="Voice Steal"
                  font="~ NormalFontSmaller"
                  font-color="text-secondary"
                  text-alignment="left"
                  transparent="true"/>
            <view class="COptionMenu" origin="16, 326" size="140, 20"
                  control-tag="SettingsVoiceStealMode"
                  default-value="0"
                  font="~ NormalFontSmaller"
                  font-color="master"
                  back-color="bg-dropdown"
                  frame-color="frame-dropdown-dim"
                  transparent="false"/>

            <!-- Gain Compensation -->
            <view class="CTextLabel" origin="16, 364" size="120, 14"
                  title="Gain Compensation"
                  font="~ NormalFontSmaller"
                  font-color="text-secondary"
                  text-alignment="left"
                  transparent="true"/>
            <view class="ToggleButton" origin="16, 382" size="50, 20"
                  control-tag="SettingsGainCompensation"
                  default-value="1"
                  title="On"
                  on-color="master"
                  off-color="toggle-off"
                  transparent="true"/>
        </view>

    </template>
</vstgui-ui-description>
